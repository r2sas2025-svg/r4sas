<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Manipulating Vectors, Data Frames, and Lists – R Course: Beginner to Expert </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04-reading-sas.html" rel="next">
<link href="./02-data-types-structures.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0dd2bd5de344125cf763a379ddc3eb04.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03-manipulating-vectors-dataframes-lists.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Manipulating Vectors, Data Frames, and Lists</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R Course: Beginner to Expert</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Welcome</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-r-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R Basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-data-types-structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Types &amp; Data Structures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-manipulating-vectors-dataframes-lists.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Manipulating Vectors, Data Frames, and Lists</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-reading-sas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reading SAS Datasets (+ Cleaning)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-base-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Base R Functions &amp; Apply Family</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-custom-functions-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Custom Functions &amp; Validation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">R Package Development</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-git-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Git in RStudio (Setup &amp; Auth)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-adam-adsl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Creating ADaM: ADSL from SDTM-like Inputs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-tlf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">TLFs: Table, Figure, Listing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-capstone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Capstone: End-to-End Mini Workflow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Appendix: Tips, Profiles, .libPaths</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#vectors-indexing-vectorized-ops" id="toc-vectors-indexing-vectorized-ops" class="nav-link active" data-scroll-target="#vectors-indexing-vectorized-ops"><span class="header-section-number">5</span> Vectors: Indexing &amp; Vectorized Ops</a></li>
  <li><a href="#data-frames-with-dplyr" id="toc-data-frames-with-dplyr" class="nav-link" data-scroll-target="#data-frames-with-dplyr"><span class="header-section-number">6</span> Data Frames with dplyr</a></li>
  <li><a href="#read-sas-dataset" id="toc-read-sas-dataset" class="nav-link" data-scroll-target="#read-sas-dataset"><span class="header-section-number">7</span> Read sas dataset</a></li>
  <li><a href="#keeping-selected-columns" id="toc-keeping-selected-columns" class="nav-link" data-scroll-target="#keeping-selected-columns"><span class="header-section-number">8</span> keeping selected columns</a></li>
  <li><a href="#dropping-columns" id="toc-dropping-columns" class="nav-link" data-scroll-target="#dropping-columns"><span class="header-section-number">9</span> dropping columns</a></li>
  <li><a href="#rename" id="toc-rename" class="nav-link" data-scroll-target="#rename"><span class="header-section-number">10</span> Rename</a></li>
  <li><a href="#arrange-sorting" id="toc-arrange-sorting" class="nav-link" data-scroll-target="#arrange-sorting"><span class="header-section-number">11</span> Arrange (sorting)</a></li>
  <li><a href="#convert-var-names-to-lower-case" id="toc-convert-var-names-to-lower-case" class="nav-link" data-scroll-target="#convert-var-names-to-lower-case"><span class="header-section-number">12</span> convert var names to lower case</a></li>
  <li><a href="#creating-new-variables" id="toc-creating-new-variables" class="nav-link" data-scroll-target="#creating-new-variables"><span class="header-section-number">13</span> Creating new variables</a></li>
  <li><a href="#bind-rows-set-operator-in-sas" id="toc-bind-rows-set-operator-in-sas" class="nav-link" data-scroll-target="#bind-rows-set-operator-in-sas"><span class="header-section-number">14</span> bind rows ( set operator in SAS)</a></li>
  <li><a href="#recode-similar-to-proc-format-in-sas" id="toc-recode-similar-to-proc-format-in-sas" class="nav-link" data-scroll-target="#recode-similar-to-proc-format-in-sas"><span class="header-section-number">15</span> recode (similar to PROC FORMAT in SAS)</a></li>
  <li><a href="#joins" id="toc-joins" class="nav-link" data-scroll-target="#joins"><span class="header-section-number">16</span> joins</a>
  <ul class="collapse">
  <li><a href="#innter-join" id="toc-innter-join" class="nav-link" data-scroll-target="#innter-join"><span class="header-section-number">16.1</span> innter join</a></li>
  <li><a href="#left-join" id="toc-left-join" class="nav-link" data-scroll-target="#left-join"><span class="header-section-number">16.2</span> left join</a></li>
  <li><a href="#right-join" id="toc-right-join" class="nav-link" data-scroll-target="#right-join"><span class="header-section-number">16.3</span> right join</a></li>
  <li><a href="#full-join" id="toc-full-join" class="nav-link" data-scroll-target="#full-join"><span class="header-section-number">16.4</span> Full Join</a></li>
  <li><a href="#semi-join" id="toc-semi-join" class="nav-link" data-scroll-target="#semi-join"><span class="header-section-number">16.5</span> Semi Join</a></li>
  <li><a href="#anti-join" id="toc-anti-join" class="nav-link" data-scroll-target="#anti-join"><span class="header-section-number">16.6</span> Anti join</a></li>
  </ul></li>
  <li><a href="#reshaping-data-with-tidyr" id="toc-reshaping-data-with-tidyr" class="nav-link" data-scroll-target="#reshaping-data-with-tidyr"><span class="header-section-number">17</span> Reshaping data with tidyr</a></li>
  <li><a href="#counting-with-n" id="toc-counting-with-n" class="nav-link" data-scroll-target="#counting-with-n"><span class="header-section-number">18</span> counting with <code>n()</code></a></li>
  <li><a href="#dplyr-distinct" id="toc-dplyr-distinct" class="nav-link" data-scroll-target="#dplyr-distinct"><span class="header-section-number">19</span> dplyr distinct()</a></li>
  <li><a href="#case_when" id="toc-case_when" class="nav-link" data-scroll-target="#case_when"><span class="header-section-number">20</span> case_when()</a></li>
  <li><a href="#create-seq-no." id="toc-create-seq-no." class="nav-link" data-scroll-target="#create-seq-no."><span class="header-section-number">21</span> create seq no.</a></li>
  <li><a href="#lists-lapply-purrr" id="toc-lists-lapply-purrr" class="nav-link" data-scroll-target="#lists-lapply-purrr"><span class="header-section-number">22</span> Lists: <code>lapply</code>, purrr</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">23</span> Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Manipulating Vectors, Data Frames, and Lists</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="vectors-indexing-vectorized-ops" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Vectors: Indexing &amp; Vectorized Ops</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating vector</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Naming a vector</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a) <span class="co">#Returns null</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"one"</span>,<span class="st">"two"</span>,<span class="st">"three"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "one"   "two"   "three"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  one   two three 
    1     2     3 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2)Accessing vector element</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 5</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 5 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>numeric(0)</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[<span class="dv">10</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(y)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Note: X[0],x[10],output is numeric class only</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#************************************</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#3)Modification of Vector elements</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span><span class="dv">13</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">17</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">110</span>,<span class="dv">170</span>,<span class="dv">70</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">9</span>]<span class="ot">=</span>x[<span class="dv">7</span>]</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">9</span>]<span class="ot">=</span>x[<span class="dv">2</span>]</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span>x[<span class="dv">11</span>] </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>)] <span class="co"># It assign 4 element of to 2nd element and 4th element to 5th element </span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************           from x=1,3,5,7</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">7</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>)]</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a><span class="co">#4)Airthematic Operations on Vector</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>x<span class="sc">+</span><span class="dv">10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11 13 15 17</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>x<span class="dv">-5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -4 -2  0  2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">*</span><span class="dv">10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 30 50 70</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">/</span><span class="dv">10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1 0.3 0.5 0.7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>x<span class="sc">%/%</span><span class="dv">2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 1 2 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>x<span class="sc">%%</span><span class="dv">2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 1 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.666667</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.581989</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
 1.0  2.5  4.0  5.5  7.0 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,<span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">25</span>,<span class="fl">0.9</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  25%   90% 
 5.75 18.10 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">#5)"WHICH" function</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>x<span class="sc">&gt;</span><span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">5</span>) <span class="co">#Returns the position,not values</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">5</span>)]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[x<span class="sc">&gt;</span><span class="dv">5</span>]</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">==</span><span class="fu">min</span>(x))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">==</span><span class="fu">min</span>(x))]<span class="co">#Returns the  value</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(x)<span class="co">#Returns the position,not values</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 133</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">==</span><span class="fu">max</span>(x)) <span class="co">#Returns the position,not values</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">==</span><span class="fu">max</span>(x))]<span class="co">#Returns the  value</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 133</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(x)<span class="co">#Returns the position,not values</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">2</span> <span class="sc">&amp;</span> x<span class="sc">&lt;</span><span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">2</span> <span class="sc">&amp;</span> x<span class="sc">&lt;</span><span class="dv">5</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">7</span> <span class="sc">|</span> x<span class="sc">&lt;</span><span class="dv">12</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7 8</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">7</span> <span class="sc">|</span> x<span class="sc">&lt;</span><span class="dv">12</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   8   7   4   5  11 112 133  33</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#6)"REP" function</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="at">times=</span><span class="dv">10</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">100</span>,<span class="at">times=</span><span class="dv">10</span>)</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>),<span class="at">times=</span><span class="dv">4</span>)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="st">"Kummam"</span>,<span class="at">times=</span><span class="dv">5</span>)</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Ramesh"</span>,<span class="st">"Kummam"</span>),<span class="at">times=</span><span class="dv">3</span>)</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="co">#x=rep(1:4,1:2) #output as invalid argument</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>))</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="at">each=</span><span class="dv">3</span>)</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="at">each=</span><span class="dv">2</span>,<span class="at">times=</span><span class="dv">3</span>)</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a><span class="co">#7)"SEQ" function</span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">10</span>,<span class="at">by=</span><span class="dv">3</span>)</span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a><span class="co">#x=seq(from=1,to=10,by=-3) # wrong arguments</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">10</span>,<span class="at">to=</span><span class="dv">1</span>,<span class="at">by=</span><span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">10</span>,<span class="at">length=</span><span class="dv">100</span>)</span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">by=</span><span class="dv">2</span>,<span class="at">length=</span><span class="dv">100</span>)</span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">by=</span><span class="dv">3</span>,<span class="at">length=</span><span class="dv">50</span>)</span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a>z<span class="ot">=</span><span class="fu">c</span>(x,y)</span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a><span class="co">#8)seq_len() &amp; seq_along() functions</span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq_len</span>(<span class="fu">length</span>(x))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7 8</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq_along</span>(x) <span class="co">#Returns length of the object</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7 8</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co">#9) Dealing with missing values</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(x) <span class="co">#Output is a logical vector</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11  7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(x)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11  7
attr(,"na.action")
[1] 2 3
attr(,"class")
[1] "omit"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Note: Observe the below operations carefully</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="cn">NA</span>,<span class="dv">5</span>,<span class="cn">NA</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co">#x==NA # not followed it so far</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co">#x[x==NA]# not followed it so far</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co">#10) Naming a vector</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>)</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>a b 
1 2 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">c</span>(<span class="st">"Ramesh"</span>,<span class="st">"Kummam"</span>)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(y)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"First"</span>,<span class="st">"Last"</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="st">"Last"</span>,<span class="st">"First"</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Last    First 
"Kummam" "Ramesh" </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co">#9) Checking the availability of elements in a vector</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> a</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> b</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%in%</span> b</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>b <span class="sc">%in%</span> a</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(a,b)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(b,a)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print strings</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"string"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "string"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate strings "a" + "b" = "ab"</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ab"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paste objects of different length</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"i"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span><span class="st">"."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "i.1"  "i.2"  "i.3"  "i.4"  "i.5"  "i.6"  "i.7"  "i.8"  "i.9"  "i.10"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span><span class="st">"."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "i.1"  "j.2"  "k.3"  "i.4"  "j.5"  "k.6"  "i.7"  "j.8"  "k.9"  "i.10"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paste with collapsing</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">sep =</span> <span class="st">""</span>, <span class="at">collapse =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i1j2k3"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paste withour collapsing</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "i1" "j2" "k3"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paste0() shorter version of paste(..., sep ="")</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">","</span>, <span class="st">"I"</span>, <span class="st">"use"</span>, <span class="st">"R"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Helloworld,IuseR"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">","</span>, <span class="st">"I"</span>, <span class="st">"use"</span>, <span class="st">"R"</span>, <span class="at">sep =</span><span class="st">" "</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello world , I use R"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate strings with cat()</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">"!"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello world !</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># it prints withoute "" quotes !!!</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">"!"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello/world/!</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># counting number of characters nchar()</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(<span class="st">"Hello world"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load US states names from data frame regarding crime rate</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> USArrests</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Murder Assault UrbanPop Rape
Alabama      13.2     236       58 21.2
Alaska       10.0     263       48 44.5
Arizona       8.1     294       80 31.0
Arkansas      8.8     190       50 19.5
California    9.0     276       91 40.6
Colorado      7.9     204       78 38.7</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Alabama"        "Alaska"         "Arizona"        "Arkansas"      
 [5] "California"     "Colorado"       "Connecticut"    "Delaware"      
 [9] "Florida"        "Georgia"        "Hawaii"         "Idaho"         
[13] "Illinois"       "Indiana"        "Iowa"           "Kansas"        
[17] "Kentucky"       "Louisiana"      "Maine"          "Maryland"      
[21] "Massachusetts"  "Michigan"       "Minnesota"      "Mississippi"   
[25] "Missouri"       "Montana"        "Nebraska"       "Nevada"        
[29] "New Hampshire"  "New Jersey"     "New Mexico"     "New York"      
[33] "North Carolina" "North Dakota"   "Ohio"           "Oklahoma"      
[37] "Oregon"         "Pennsylvania"   "Rhode Island"   "South Carolina"
[41] "South Dakota"   "Tennessee"      "Texas"          "Utah"          
[45] "Vermont"        "Virginia"       "Washington"     "West Virginia" 
[49] "Wisconsin"      "Wyoming"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df) </span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="co"># convert all states names to upper case</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>states_upper <span class="ot">&lt;-</span> <span class="fu">toupper</span>(states)</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="co"># convert all names to lower</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>states_lower <span class="ot">&lt;-</span> <span class="fu">tolower</span>(states)</span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a><span class="co"># or select which to apply with function casefol</span></span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a><span class="fu">casefold</span>(<span class="at">x =</span> states, <span class="at">upper =</span> T)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ALABAMA"        "ALASKA"         "ARIZONA"        "ARKANSAS"      
 [5] "CALIFORNIA"     "COLORADO"       "CONNECTICUT"    "DELAWARE"      
 [9] "FLORIDA"        "GEORGIA"        "HAWAII"         "IDAHO"         
[13] "ILLINOIS"       "INDIANA"        "IOWA"           "KANSAS"        
[17] "KENTUCKY"       "LOUISIANA"      "MAINE"          "MARYLAND"      
[21] "MASSACHUSETTS"  "MICHIGAN"       "MINNESOTA"      "MISSISSIPPI"   
[25] "MISSOURI"       "MONTANA"        "NEBRASKA"       "NEVADA"        
[29] "NEW HAMPSHIRE"  "NEW JERSEY"     "NEW MEXICO"     "NEW YORK"      
[33] "NORTH CAROLINA" "NORTH DAKOTA"   "OHIO"           "OKLAHOMA"      
[37] "OREGON"         "PENNSYLVANIA"   "RHODE ISLAND"   "SOUTH CAROLINA"
[41] "SOUTH DAKOTA"   "TENNESSEE"      "TEXAS"          "UTAH"          
[45] "VERMONT"        "VIRGINIA"       "WASHINGTON"     "WEST VIRGINIA" 
[49] "WISCONSIN"      "WYOMING"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">casefold</span>(<span class="at">x =</span> states, <span class="at">upper =</span> F)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "alabama"        "alaska"         "arizona"        "arkansas"      
 [5] "california"     "colorado"       "connecticut"    "delaware"      
 [9] "florida"        "georgia"        "hawaii"         "idaho"         
[13] "illinois"       "indiana"        "iowa"           "kansas"        
[17] "kentucky"       "louisiana"      "maine"          "maryland"      
[21] "massachusetts"  "michigan"       "minnesota"      "mississippi"   
[25] "missouri"       "montana"        "nebraska"       "nevada"        
[29] "new hampshire"  "new jersey"     "new mexico"     "new york"      
[33] "north carolina" "north dakota"   "ohio"           "oklahoma"      
[37] "oregon"         "pennsylvania"   "rhode island"   "south carolina"
[41] "south dakota"   "tennessee"      "texas"          "utah"          
[45] "vermont"        "virginia"       "washington"     "west virginia" 
[49] "wisconsin"      "wyoming"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># character translation</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chartr</span>(<span class="at">old =</span> <span class="st">"o"</span>, <span class="at">new =</span> <span class="st">"0"</span>, <span class="at">x =</span> <span class="st">"Hello World"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hell0 W0rld"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sorting strings </span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(states, <span class="at">decreasing =</span> F) <span class="co">#ascending order</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Alabama"        "Alaska"         "Arizona"        "Arkansas"      
 [5] "California"     "Colorado"       "Connecticut"    "Delaware"      
 [9] "Florida"        "Georgia"        "Hawaii"         "Idaho"         
[13] "Illinois"       "Indiana"        "Iowa"           "Kansas"        
[17] "Kentucky"       "Louisiana"      "Maine"          "Maryland"      
[21] "Massachusetts"  "Michigan"       "Minnesota"      "Mississippi"   
[25] "Missouri"       "Montana"        "Nebraska"       "Nevada"        
[29] "New Hampshire"  "New Jersey"     "New Mexico"     "New York"      
[33] "North Carolina" "North Dakota"   "Ohio"           "Oklahoma"      
[37] "Oregon"         "Pennsylvania"   "Rhode Island"   "South Carolina"
[41] "South Dakota"   "Tennessee"      "Texas"          "Utah"          
[45] "Vermont"        "Virginia"       "Washington"     "West Virginia" 
[49] "Wisconsin"      "Wyoming"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(states, <span class="at">decreasing =</span> T) <span class="co">#descending order</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Wyoming"        "Wisconsin"      "West Virginia"  "Washington"    
 [5] "Virginia"       "Vermont"        "Utah"           "Texas"         
 [9] "Tennessee"      "South Dakota"   "South Carolina" "Rhode Island"  
[13] "Pennsylvania"   "Oregon"         "Oklahoma"       "Ohio"          
[17] "North Dakota"   "North Carolina" "New York"       "New Mexico"    
[21] "New Jersey"     "New Hampshire"  "Nevada"         "Nebraska"      
[25] "Montana"        "Missouri"       "Mississippi"    "Minnesota"     
[29] "Michigan"       "Massachusetts"  "Maryland"       "Maine"         
[33] "Louisiana"      "Kentucky"       "Kansas"         "Iowa"          
[37] "Indiana"        "Illinois"       "Idaho"          "Hawaii"        
[41] "Georgia"        "Florida"        "Delaware"       "Connecticut"   
[45] "Colorado"       "California"     "Arkansas"       "Arizona"       
[49] "Alaska"         "Alabama"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting parts of string</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sub string first 3 letters from state name Alabama</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> <span class="st">"Alabama"</span>, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ala"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># String matching - back to toy example</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(regex)</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="co"># get all country names</span></span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("countrycode")</span></span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(countrycode)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: countrycode</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(countrycode<span class="sc">::</span>codelist<span class="sc">$</span>country.name.en)</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="co"># countries beginning with letter "A"</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>countries[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Afghanistan"       "Albania"           "Algeria"          
 [4] "American Samoa"    "Andorra"           "Angola"           
 [7] "Anguilla"          "Antarctica"        "Antigua &amp; Barbuda"
[10] "Argentina"         "Armenia"           "Aruba"            
[13] "Australia"         "Austria"           "Austria-Hungary"  
[16] "Azerbaijan"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>countries[<span class="fu">grepl</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Afghanistan"       "Albania"           "Algeria"          
 [4] "American Samoa"    "Andorra"           "Angola"           
 [7] "Anguilla"          "Antarctica"        "Antigua &amp; Barbuda"
[10] "Argentina"         "Armenia"           "Aruba"            
[13] "Australia"         "Austria"           "Austria-Hungary"  
[16] "Azerbaijan"       </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names that end with letter "y"</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*y$"</span>, <span class="at">x =</span> countries)</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>countries[rez]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Austria-Hungary"                "British Indian Ocean Territory"
 [3] "Germany"                        "Guernsey"                      
 [5] "Hungary"                        "Italy"                         
 [7] "Jersey"                         "Norway"                        
 [9] "Paraguay"                       "Saxony"                        
[11] "St. Barthélemy"                 "Turkey"                        
[13] "Tuscany"                        "Uruguay"                       
[15] "Vatican City"                  </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all country with 2 words or more for a country name</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">s</span><span class="sc">\\</span><span class="st">w"</span>, <span class="at">x =</span> countries)</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>countries[rez]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "American Samoa"                            
 [2] "Bouvet Island"                             
 [3] "British Indian Ocean Territory"            
 [4] "British Virgin Islands"                    
 [5] "Burkina Faso"                              
 [6] "Cape Verde"                                
 [7] "Caribbean Netherlands"                     
 [8] "Cayman Islands"                            
 [9] "Central African Republic"                  
[10] "Channel Islands"                           
[11] "Christmas Island"                          
[12] "Cook Islands"                              
[13] "Costa Rica"                                
[14] "Côte d’Ivoire"                             
[15] "Dominican Republic"                        
[16] "El Salvador"                               
[17] "Equatorial Guinea"                         
[18] "Falkland Islands"                          
[19] "Faroe Islands"                             
[20] "French Guiana"                             
[21] "French Polynesia"                          
[22] "French Southern Territories"               
[23] "German Democratic Republic"                
[24] "Heard &amp; McDonald Islands"                  
[25] "Hesse Electoral"                           
[26] "Hesse Grand Ducal"                         
[27] "Hong Kong SAR China"                       
[28] "Isle of Man"                               
[29] "Macao SAR China"                           
[30] "Marshall Islands"                          
[31] "Mecklenburg Schwerin"                      
[32] "Micronesia (Federated States of)"          
[33] "Netherlands Antilles"                      
[34] "New Caledonia"                             
[35] "New Zealand"                               
[36] "Norfolk Island"                            
[37] "North Korea"                               
[38] "North Macedonia"                           
[39] "Northern Mariana Islands"                  
[40] "Orange Free State"                         
[41] "Palestinian Territories"                   
[42] "Papua New Guinea"                          
[43] "Pitcairn Islands"                          
[44] "Puerto Rico"                               
[45] "Republic of Vietnam"                       
[46] "Saint Martin (French part)"                
[47] "San Marino"                                
[48] "Saudi Arabia"                              
[49] "Serbia and Montenegro"                     
[50] "Sierra Leone"                              
[51] "Sint Maarten"                              
[52] "Solomon Islands"                           
[53] "South Africa"                              
[54] "South Georgia &amp; South Sandwich Islands"    
[55] "South Korea"                               
[56] "South Sudan"                               
[57] "Sri Lanka"                                 
[58] "Svalbard &amp; Jan Mayen"                      
[59] "São Tomé &amp; Príncipe"                       
[60] "Turks &amp; Caicos Islands"                    
[61] "Two Sicilies"                              
[62] "U.S. Virgin Islands"                       
[63] "United Arab Emirates"                      
[64] "United Arab Republic"                      
[65] "United Kingdom"                            
[66] "United Province CA"                        
[67] "United States"                             
[68] "United States Minor Outlying Islands (the)"
[69] "Vatican City"                              
[70] "Western Sahara"                            
[71] "Yemen Arab Republic"                       
[72] "Yemen People's Republic"                   
[73] "Åland Islands"                             </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names that end with letter "e" or "i"</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*e$|*i$"</span>, <span class="at">x =</span> countries)</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>countries[rez]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Belize"              "Brunei"              "Burundi"            
 [4] "Cape Verde"          "Chile"               "Congo - Brazzaville"
 [7] "Côte d’Ivoire"       "Djibouti"            "Eswatini"           
[10] "Fiji"                "France"              "Greece"             
[13] "Guadeloupe"          "Haiti"               "Kiribati"           
[16] "Malawi"              "Mali"                "Martinique"         
[19] "Mayotte"             "Mozambique"          "Niue"               
[22] "Orange Free State"   "Sierra Leone"        "Singapore"          
[25] "Suriname"            "São Tomé &amp; Príncipe" "Timor-Leste"        
[28] "Ukraine"             "Zimbabwe"           </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names which contain combination of letters “gin” </span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*(gin)"</span>, <span class="at">x =</span> countries)</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>countries[rez]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "British Virgin Islands" "U.S. Virgin Islands"   </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># metacharacters and double backslash sign</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"dollar $"</span>, <span class="st">"dollar"</span>, <span class="st">"US dollar"</span>)</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="co"># how to escape metacharacters in R</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we would like to match a word with "$" dollar sign</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>strings</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "dollar $"  "dollar"    "US dollar"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>rez1 <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"$"</span>, <span class="at">x =</span> strings) <span class="co"># wrong way all are find $ indicating end of string</span></span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>strings[rez1]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "dollar $"  "dollar"    "US dollar"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we need to escape $ with \ backslash</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="co">#rez2 &lt;- grep(pattern = "\$", x = strings) # wrong way error</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="co">#strings[rez2]</span></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="co"># right way $ escape with \\ double backslash</span></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="co">#rez3 &lt;- grep(pattern = "\\$", x = strings) # wrong way error</span></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="co">#strings[rez3]</span></span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Escape dot .</span></span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"word.word"</span>, <span class="st">"word word"</span>)</span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="at">x =</span> strings)</span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a>strings[rez]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "word.word"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the hat sign beginning of the string and dollar sign end of string</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Word"</span>, <span class="st">"worD"</span>)</span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"^W"</span>,strings)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Word"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"D$"</span>,strings)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "worD"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example of an anchor sequences in R</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"123"</span>, <span class="st">"onetwothree"</span>, <span class="st">"1twothree"</span>)</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d"</span>, strings)] <span class="co"># digit character</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "123"       "1twothree"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, strings)] <span class="co"># non-digit character</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "onetwothree" "1twothree"  </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example of a character classes</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"123"</span>, <span class="st">"dollar"</span>, <span class="st">"shkjl"</span>)</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"[aeiou]"</span>, strings)] <span class="co"># match word with any vovel</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "dollar"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"[0-9]"</span>, strings)] <span class="co"># match word with digits</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "123"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find and replace sub() &amp; gsub()</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">"I have started to learn R, and I already love R."</span></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="co"># replace "R" with "X"</span></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="at">pattern =</span> <span class="st">"R"</span>, <span class="at">replacement =</span> <span class="st">"X"</span>, <span class="at">x =</span> string) <span class="co">#only first occurence replaced</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "I have started to learn X, and I already love R."</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"R"</span>, <span class="at">replacement =</span> <span class="st">"X"</span>, <span class="at">x =</span> string) <span class="co">#all occurences replaced</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "I have started to learn X, and I already love X."</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co">#replace white space with blank space</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s"</span>, <span class="at">replacement =</span> <span class="st">""</span>, <span class="at">x =</span> string)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "IhavestartedtolearnR,andIalreadyloveR."</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># string split, split given sentence by comma ","</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> string, <span class="at">split =</span> <span class="st">","</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "I have started to learn R" " and I already love R."   </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># split phone numbers by digits</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"310-555-123"</span>, <span class="st">"311-444-456"</span>)</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> numbers, <span class="at">split =</span> <span class="st">"-"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "310" "555" "123"

[[2]]
[1] "311" "444" "456"</code></pre>
</div>
</div>
</section>
<section id="data-frames-with-dplyr" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Data Frames with dplyr</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame </span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">col1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col2 =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), </span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col3 =</span> <span class="fu">c</span>(T, F, T), </span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col4 =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2020-01-03"</span>), <span class="fu">as.Date</span>(<span class="st">"2020-01-03"</span>)))</span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-8"><a href="#cb192-8" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame - vectors</span></span>
<span id="cb192-9"><a href="#cb192-9" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>,<span class="dv">10</span>)</span>
<span id="cb192-10"><a href="#cb192-10" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">length =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="st">"weeks"</span>)</span>
<span id="cb192-11"><a href="#cb192-11" aria-hidden="true" tabindex="-1"></a>col3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"word"</span>, <span class="dv">10</span>)</span>
<span id="cb192-12"><a href="#cb192-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-13"><a href="#cb192-13" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">num =</span> col1,</span>
<span id="cb192-14"><a href="#cb192-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">date =</span> col2,</span>
<span id="cb192-15"><a href="#cb192-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">string =</span> col3)</span>
<span id="cb192-16"><a href="#cb192-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-17"><a href="#cb192-17" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF structure</span></span>
<span id="cb192-18"><a href="#cb192-18" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   10 obs. of  3 variables:
 $ num   : num  10 20 30 40 50 60 70 80 90 100
 $ date  : Date, format: "2020-01-01" "2020-01-08" ...
 $ string: chr  "word" "word" "word" "word" ...</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame - matrix</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">10</span>, <span class="at">byrow =</span> T)</span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(M) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"row"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"col"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a>M</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      col1 col2 col3 col4 col5 col6 col7 col8 col9 col10
row1     1    2    3    4    5    6    7    8    9    10
row2    11   12   13   14   15   16   17   18   19    20
row3    21   22   23   24   25   26   27   28   29    30
row4    31   32   33   34   35   36   37   38   39    40
row5    41   42   43   44   45   46   47   48   49    50
row6    51   52   53   54   55   56   57   58   59    60
row7    61   62   63   64   65   66   67   68   69    70
row8    71   72   73   74   75   76   77   78   79    80
row9    81   82   83   84   85   86   87   88   89    90
row10   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(M)</span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>df3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      col1 col2 col3 col4 col5 col6 col7 col8 col9 col10
row1     1    2    3    4    5    6    7    8    9    10
row2    11   12   13   14   15   16   17   18   19    20
row3    21   22   23   24   25   26   27   28   29    30
row4    31   32   33   34   35   36   37   38   39    40
row5    41   42   43   44   45   46   47   48   49    50
row6    51   52   53   54   55   56   57   58   59    60
row7    61   62   63   64   65   66   67   68   69    70
row8    71   72   73   74   75   76   77   78   79    80
row9    81   82   83   84   85   86   87   88   89    90
row10   91   92   93   94   95   96   97   98   99   100</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF dimensions</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 10</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF type / class</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.2 Accessing DF</span></span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="co"># let's create DF - employees</span></span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Max"</span>, <span class="st">"Jane"</span>, <span class="st">"John"</span>, <span class="st">"Tony"</span>, <span class="st">"Janis"</span>, <span class="st">"Helen"</span>),</span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">surname =</span> <span class="fu">c</span>(<span class="st">"Gordon"</span>, <span class="st">"Smith"</span>, <span class="st">"Don"</span>, <span class="st">"Price"</span>, <span class="st">"Jett"</span>, <span class="st">"Dust"</span>),</span>
<span id="cb208-7"><a href="#cb208-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">55</span>, <span class="dv">35</span>, <span class="dv">46</span>, <span class="dv">22</span>, <span class="dv">60</span>, <span class="dv">27</span>),</span>
<span id="cb208-8"><a href="#cb208-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">date_start_work =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"1985-09-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2010-10-01"</span>), <span class="fu">as.Date</span>(<span class="st">"1999-06-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2019-03-01"</span>), <span class="fu">as.Date</span>(<span class="st">"1980-04-15"</span>), <span class="fu">as.Date</span>(<span class="st">"2015-02-20"</span>)),</span>
<span id="cb208-9"><a href="#cb208-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>),</span>
<span id="cb208-10"><a href="#cb208-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">manager_position =</span> <span class="fu">c</span>(T, F, F, F, T, F)</span>
<span id="cb208-11"><a href="#cb208-11" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb208-12"><a href="#cb208-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-13"><a href="#cb208-13" aria-hidden="true" tabindex="-1"></a><span class="co"># extract data as data frame (one column) - []</span></span>
<span id="cb208-14"><a href="#cb208-14" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[<span class="st">"name"</span>]</span>
<span id="cb208-15"><a href="#cb208-15" aria-hidden="true" tabindex="-1"></a>df_extr</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name
1   Max
2  Jane
3  John
4  Tony
5 Janis
6 Helen</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract data as vector (one column) [[]] $</span></span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[[<span class="st">"age"</span>]]</span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>df_extr</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55 35 46 22 60 27</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr) <span class="co"># vector factor</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp<span class="sc">$</span>age</span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>df_extr</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55 35 46 22 60 27</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr) <span class="co"># vector factor</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract multiple columns</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"age"</span>)]</span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a>df_extr</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name age
1   Max  55
2  Jane  35
3  John  46
4  Tony  22
5 Janis  60
6 Helen  27</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data frame slicing</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a>df_emp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position
1  1   Max  Gordon  55      1985-09-01      M             TRUE
2  2  Jane   Smith  35      2010-10-01      F            FALSE
3  3  John     Don  46      1999-06-01      M            FALSE
4  4  Tony   Price  22      2019-03-01      M            FALSE
5  5 Janis    Jett  60      1980-04-15      F             TRUE
6  6 Helen    Dust  27      2015-02-20      M            FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co">#extract second row in name column (1 cell)</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">2</span>,<span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Jane"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">2</span>,<span class="st">"name"</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Jane"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract first 4 rows of last 2 columns </span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender manager_position
1      M             TRUE
2      F            FALSE
3      M            FALSE
4      M            FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="fu">c</span>(<span class="st">"gender"</span>, <span class="st">"manager_position"</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender manager_position
1      M             TRUE
2      F            FALSE
3      M            FALSE
4      M            FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract first column (all rows)</span></span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a>df_emp[,<span class="dv">1</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>df_emp[,<span class="st">"id"</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>id</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract last 2 rows (all columns) </span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position
5  5 Janis    Jett  60      1980-04-15      F             TRUE
6  6 Helen    Dust  27      2015-02-20      M            FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df_emp)</span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, cols]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position
5  5 Janis    Jett  60      1980-04-15      F             TRUE
6  6 Helen    Dust  27      2015-02-20      M            FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.3 Modifying data frame</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a><span class="co"># append column </span></span>
<span id="cb242-4"><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_emp, <span class="at">role =</span> <span class="fu">c</span>(<span class="st">"director"</span>, <span class="st">"secretary"</span>, <span class="st">"analyst"</span>, <span class="st">"researcher"</span>, <span class="st">"CEO"</span>, <span class="st">"analyst"</span>))</span>
<span id="cb242-5"><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>new_col <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb242-6"><a href="#cb242-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-7"><a href="#cb242-7" aria-hidden="true" tabindex="-1"></a><span class="co"># append rows </span></span>
<span id="cb242-8"><a href="#cb242-8" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_emp, <span class="fu">list</span>(<span class="dv">7</span>, <span class="st">"Mark"</span>, <span class="st">"Jax"</span>, <span class="dv">32</span>, <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="st">"M"</span>, F, <span class="st">"researcher"</span>, <span class="dv">1</span>))</span>
<span id="cb242-9"><a href="#cb242-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-10"><a href="#cb242-10" aria-hidden="true" tabindex="-1"></a><span class="co"># problem with factor variables (new values not in factor levels)</span></span>
<span id="cb242-11"><a href="#cb242-11" aria-hidden="true" tabindex="-1"></a><span class="co"># easy solution - append new row as data frame (rbind 2 data frames)!!! </span></span>
<span id="cb242-12"><a href="#cb242-12" aria-hidden="true" tabindex="-1"></a><span class="co"># will show few rows later</span></span>
<span id="cb242-13"><a href="#cb242-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-14"><a href="#cb242-14" aria-hidden="true" tabindex="-1"></a><span class="co"># remove column</span></span>
<span id="cb242-15"><a href="#cb242-15" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>new_col <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb242-16"><a href="#cb242-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-17"><a href="#cb242-17" aria-hidden="true" tabindex="-1"></a><span class="co"># remove row</span></span>
<span id="cb242-18"><a href="#cb242-18" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> df_emp[<span class="sc">-</span><span class="dv">7</span>,]</span>
<span id="cb242-19"><a href="#cb242-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-20"><a href="#cb242-20" aria-hidden="true" tabindex="-1"></a><span class="co"># merge two data frames (row wise)</span></span>
<span id="cb242-21"><a href="#cb242-21" aria-hidden="true" tabindex="-1"></a>df_new_emp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">7</span>,</span>
<span id="cb242-22"><a href="#cb242-22" aria-hidden="true" tabindex="-1"></a>                         <span class="at">name =</span> <span class="st">"Mark"</span>,</span>
<span id="cb242-23"><a href="#cb242-23" aria-hidden="true" tabindex="-1"></a>                         <span class="at">surname =</span> <span class="st">"Jax"</span>,</span>
<span id="cb242-24"><a href="#cb242-24" aria-hidden="true" tabindex="-1"></a>                         <span class="at">age =</span> <span class="dv">32</span>,</span>
<span id="cb242-25"><a href="#cb242-25" aria-hidden="true" tabindex="-1"></a>                         <span class="at">date_start_work =</span> <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>),</span>
<span id="cb242-26"><a href="#cb242-26" aria-hidden="true" tabindex="-1"></a>                         <span class="at">gender =</span> <span class="st">"M"</span>,</span>
<span id="cb242-27"><a href="#cb242-27" aria-hidden="true" tabindex="-1"></a>                         <span class="at">manager_position =</span> F,</span>
<span id="cb242-28"><a href="#cb242-28" aria-hidden="true" tabindex="-1"></a>                         <span class="at">role =</span> <span class="st">"researcher"</span>)</span>
<span id="cb242-29"><a href="#cb242-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-30"><a href="#cb242-30" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_emp, df_new_emp)</span>
<span id="cb242-31"><a href="#cb242-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-32"><a href="#cb242-32" aria-hidden="true" tabindex="-1"></a><span class="co"># merge two data frames (column wise)</span></span>
<span id="cb242-33"><a href="#cb242-33" aria-hidden="true" tabindex="-1"></a>df_attr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">eye_color =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"brown"</span>, <span class="st">"hazel"</span>, <span class="st">"blue"</span>, <span class="st">"brown"</span>, <span class="st">"brown"</span>),</span>
<span id="cb242-34"><a href="#cb242-34" aria-hidden="true" tabindex="-1"></a>                      <span class="at">hair_color =</span> <span class="fu">c</span>(<span class="st">"blonde"</span>, <span class="st">"light brown"</span>, <span class="st">"black"</span>, <span class="st">"brown"</span>, <span class="st">"blonde"</span>, <span class="st">"dark brown"</span>, <span class="st">"brown"</span>))</span>
<span id="cb242-35"><a href="#cb242-35" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_emp, df_attr)</span>
<span id="cb242-36"><a href="#cb242-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-37"><a href="#cb242-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-38"><a href="#cb242-38" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.4 Tips</span></span>
<span id="cb242-39"><a href="#cb242-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-40"><a href="#cb242-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Df summary</span></span>
<span id="cb242-41"><a href="#cb242-41" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_emp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>       id          name             surname               age       
 Min.   :1.0   Length:7           Length:7           Min.   :22.00  
 1st Qu.:2.5   Class :character   Class :character   1st Qu.:29.50  
 Median :4.0   Mode  :character   Mode  :character   Median :35.00  
 Mean   :4.0                                         Mean   :39.57  
 3rd Qu.:5.5                                         3rd Qu.:50.50  
 Max.   :7.0                                         Max.   :60.00  
 date_start_work         gender          manager_position     role          
 Min.   :1980-04-15   Length:7           Mode :logical    Length:7          
 1st Qu.:1992-07-16   Class :character   FALSE:5          Class :character  
 Median :2010-10-01   Mode  :character   TRUE :2          Mode  :character  
 Mean   :2004-05-06                                                         
 3rd Qu.:2017-02-24                                                         
 Max.   :2020-01-01                                                         
  eye_color          hair_color       
 Length:7           Length:7          
 Class :character   Class :character  
 Mode  :character   Mode  :character  
                                      
                                      
                                      </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rows subsetting</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(<span class="at">x =</span> df_emp, gender <span class="sc">==</span> <span class="st">"M"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position       role
1  1   Max  Gordon  55      1985-09-01      M             TRUE   director
3  3  John     Don  46      1999-06-01      M            FALSE    analyst
4  4  Tony   Price  22      2019-03-01      M            FALSE researcher
6  6 Helen    Dust  27      2015-02-20      M            FALSE    analyst
7  7  Mark     Jax  32      2020-01-01      M            FALSE researcher
  eye_color hair_color
1      blue     blonde
3     brown      black
4     hazel      brown
6     brown dark brown
7     brown      brown</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(<span class="at">x =</span> df_emp, gender <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">&amp;</span> manager_position <span class="sc">==</span> T)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position role eye_color
5  5 Janis    Jett  60      1980-04-15      F             TRUE  CEO      blue
  hair_color
5     blonde</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">which</span>(df_emp[,<span class="st">"gender"</span>] <span class="sc">==</span> <span class="st">"M"</span>)</span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>df_emp[rows,]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position       role
1  1   Max  Gordon  55      1985-09-01      M             TRUE   director
3  3  John     Don  46      1999-06-01      M            FALSE    analyst
4  4  Tony   Price  22      2019-03-01      M            FALSE researcher
6  6 Helen    Dust  27      2015-02-20      M            FALSE    analyst
7  7  Mark     Jax  32      2020-01-01      M            FALSE researcher
  eye_color hair_color
1      blue     blonde
3     brown      black
4     hazel      brown
6     brown dark brown
7     brown      brown</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">which</span>(df_emp[,<span class="st">"gender"</span>] <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">&amp;</span> df_emp[,<span class="st">"manager_position"</span>] <span class="sc">==</span> T)</span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a>df_emp[rows,]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  name surname age date_start_work gender manager_position role eye_color
5  5 Janis    Jett  60      1980-04-15      F             TRUE  CEO      blue
  hair_color
5     blonde</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="co"># some calculations regarding data frames</span></span>
<span id="cb252-2"><a href="#cb252-2" aria-hidden="true" tabindex="-1"></a>nr_managers <span class="ot">&lt;-</span> <span class="fu">sum</span>(df_emp<span class="sc">$</span>manager_position)</span>
<span id="cb252-3"><a href="#cb252-3" aria-hidden="true" tabindex="-1"></a>mean_age <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_emp<span class="sc">$</span>age)</span>
<span id="cb252-4"><a href="#cb252-4" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>name_surname <span class="ot">&lt;-</span> <span class="fu">paste</span>(df_emp<span class="sc">$</span>name, df_emp<span class="sc">$</span>surname, <span class="at">sep =</span> <span class="st">" "</span>) <span class="co"># merge name and surname</span></span>
<span id="cb252-5"><a href="#cb252-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb252-6"><a href="#cb252-6" aria-hidden="true" tabindex="-1"></a><span class="co"># use apply to sum over columns (age, manager_position)</span></span>
<span id="cb252-7"><a href="#cb252-7" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(df_emp[,<span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"manager_position"</span>)], <span class="dv">2</span>, sum)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>             age manager_position 
             277                2 </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if statement</span></span>
<span id="cb254-2"><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-3"><a href="#cb254-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb254-4"><a href="#cb254-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb254-5"><a href="#cb254-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-6"><a href="#cb254-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&lt;</span> y){</span>
<span id="cb254-7"><a href="#cb254-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less than y"</span>)</span>
<span id="cb254-8"><a href="#cb254-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x is less than y"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if-else statement</span></span>
<span id="cb256-2"><a href="#cb256-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-3"><a href="#cb256-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb256-4"><a href="#cb256-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb256-5"><a href="#cb256-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-6"><a href="#cb256-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y){</span>
<span id="cb256-7"><a href="#cb256-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is greater than y"</span>)</span>
<span id="cb256-8"><a href="#cb256-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb256-9"><a href="#cb256-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less or equal to y"</span>)</span>
<span id="cb256-10"><a href="#cb256-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x is less or equal to y"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if-else if-else statement</span></span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb258-5"><a href="#cb258-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-6"><a href="#cb258-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y){</span>
<span id="cb258-7"><a href="#cb258-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is greater than y"</span>)</span>
<span id="cb258-8"><a href="#cb258-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> y){</span>
<span id="cb258-9"><a href="#cb258-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less than y"</span>)</span>
<span id="cb258-10"><a href="#cb258-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb258-11"><a href="#cb258-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is equal to y"</span>)</span>
<span id="cb258-12"><a href="#cb258-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x is equal to y"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5.1.2 relational operators</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a><span class="co"># scalar</span></span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">0</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb264"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;=</span> <span class="dv">3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;=</span> <span class="dv">10</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb270"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vectors</span></span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">c</span>(F,T,<span class="dv">0</span>,<span class="dv">10</span>)</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">c</span>(T,F,F,T)</span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a>X <span class="sc">==</span> Y <span class="co"># element-wise comparison</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&gt;</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb276"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&lt;</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE FALSE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&gt;=</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&lt;=</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">!=</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>X <span class="sc">%in%</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb286"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5.1.3 Logical operators </span></span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb286-3"><a href="#cb286-3" aria-hidden="true" tabindex="-1"></a>X <span class="sc">|</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="co">#X || Y</span></span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&amp;</span> Y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE  TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb290"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="co">#X &amp;&amp; Y</span></span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>X</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># logical operators in if statement (flip coin twice)</span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a>c1 <span class="ot">&lt;-</span> <span class="st">"H"</span></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a>c2 <span class="ot">&lt;-</span> <span class="st">"H"</span></span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-5"><a href="#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(c1 <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"H"</span>){</span>
<span id="cb292-6"><a href="#cb292-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You win 10$"</span>)</span>
<span id="cb292-7"><a href="#cb292-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>((c1 <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"T"</span>) <span class="sc">|</span> (c1 <span class="sc">==</span> <span class="st">"T"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"H"</span>)){</span>
<span id="cb292-8"><a href="#cb292-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You win 2$"</span>)</span>
<span id="cb292-9"><a href="#cb292-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb292-10"><a href="#cb292-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You lose all the money"</span>)</span>
<span id="cb292-11"><a href="#cb292-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "You win 10$"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loop over iterations and print number of iteration</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(it <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb294-3"><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"iteration "</span>, it, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb294-4"><a href="#cb294-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "iteration 1"
[1] "iteration 2"
[1] "iteration 3"
[1] "iteration 4"
[1] "iteration 5"
[1] "iteration 6"
[1] "iteration 7"
[1] "iteration 8"
[1] "iteration 9"
[1] "iteration 10"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb296"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sum of numbers in a sequence</span></span>
<span id="cb296-2"><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb296-3"><a href="#cb296-3" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># initial sum</span></span>
<span id="cb296-4"><a href="#cb296-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-5"><a href="#cb296-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(val <span class="cf">in</span> sequence){</span>
<span id="cb296-6"><a href="#cb296-6" aria-hidden="true" tabindex="-1"></a>  s <span class="ot">&lt;-</span> s <span class="sc">+</span> val</span>
<span id="cb296-7"><a href="#cb296-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"value = "</span>, val, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb296-8"><a href="#cb296-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"s = "</span>, s, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb296-9"><a href="#cb296-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"--------------------"</span>)</span>
<span id="cb296-10"><a href="#cb296-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "value = 1"
[1] "s = 1"
[1] "--------------------"
[1] "value = 2"
[1] "s = 3"
[1] "--------------------"
[1] "value = 3"
[1] "s = 6"
[1] "--------------------"
[1] "value = 4"
[1] "s = 10"
[1] "--------------------"
[1] "value = 5"
[1] "s = 15"
[1] "--------------------"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb298"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for loop with conditional statement</span></span>
<span id="cb298-2"><a href="#cb298-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (count number of even numbers in a vector)</span></span>
<span id="cb298-3"><a href="#cb298-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">22</span>,<span class="dv">21</span>,<span class="dv">100</span>) <span class="co"># given numbers</span></span>
<span id="cb298-4"><a href="#cb298-4" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># counter for even numbers</span></span>
<span id="cb298-5"><a href="#cb298-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-6"><a href="#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(val <span class="cf">in</span> x){</span>
<span id="cb298-7"><a href="#cb298-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(val <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>){ <span class="co"># if number is divisible with 2</span></span>
<span id="cb298-8"><a href="#cb298-8" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb298-9"><a href="#cb298-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb298-10"><a href="#cb298-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb298-11"><a href="#cb298-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-12"><a href="#cb298-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>
<section id="read-sas-dataset" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Read sas dataset</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb300"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>dm <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/sdtm/dm.sas7bdat"</span>)</span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a>ae <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/sdtm/ae.sas7bdat"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="keeping-selected-columns" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> keeping selected columns</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb301"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a>dm_1 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-2"><a href="#cb301-2" aria-hidden="true" tabindex="-1"></a>       dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,ARM) <span class="sc">|&gt;</span> </span>
<span id="cb301-3"><a href="#cb301-3" aria-hidden="true" tabindex="-1"></a>       dplyr<span class="sc">::</span><span class="fu">filter</span>(ARM <span class="sc">==</span><span class="st">"Placebo"</span>)</span>
<span id="cb301-4"><a href="#cb301-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-5"><a href="#cb301-5" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-6"><a href="#cb301-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID<span class="sc">:</span>ARM) </span>
<span id="cb301-7"><a href="#cb301-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-8"><a href="#cb301-8" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-9"><a href="#cb301-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) </span>
<span id="cb301-10"><a href="#cb301-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-11"><a href="#cb301-11" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-12"><a href="#cb301-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) </span>
<span id="cb301-13"><a href="#cb301-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-14"><a href="#cb301-14" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-15"><a href="#cb301-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"AR"</span>)) </span>
<span id="cb301-16"><a href="#cb301-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-17"><a href="#cb301-17" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb301-18"><a href="#cb301-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"DT"</span>)) </span>
<span id="cb301-19"><a href="#cb301-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-20"><a href="#cb301-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-21"><a href="#cb301-21" aria-hidden="true" tabindex="-1"></a>dm2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dm,USUBJID,ARM) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="dropping-columns" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> dropping columns</h1>
<p>To select all columns except certain ones, put a “-” in front of the variable to exclude it. For multiple variables, you can use the function c() to combine values into a vector or list. This will select all the variables in surveys except ARM, SITEID</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adsl.sas7bdat"</span>)</span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(AGE, SEX, TRT01A))</span>
<span id="cb302-3"><a href="#cb302-3" aria-hidden="true" tabindex="-1"></a>adsl3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(STUDYID<span class="sc">:</span>ARM))</span>
<span id="cb302-4"><a href="#cb302-4" aria-hidden="true" tabindex="-1"></a>adsl4 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>))</span>
<span id="cb302-5"><a href="#cb302-5" aria-hidden="true" tabindex="-1"></a>adsl4 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">43</span>))</span>
<span id="cb302-6"><a href="#cb302-6" aria-hidden="true" tabindex="-1"></a>adsl5 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"A"</span>))</span>
<span id="cb302-7"><a href="#cb302-7" aria-hidden="true" tabindex="-1"></a>adsl6 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"DTC"</span>))</span>
<span id="cb302-8"><a href="#cb302-8" aria-hidden="true" tabindex="-1"></a>adsl7 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"TRT"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>There are many helper functions available with select() like: starts_with(), ends_with(), contains() among others. These were imported from the tidyselect package. You can put a “-” in front of the helper function to negate it. Here is an example using contains(): # Filtering rows To choose rows based on a specific criteria, use filter(): To select rows where the planned treatment code equals “Placebo”:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb303"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A) <span class="sc">|&gt;</span> </span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> )</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-7"><a href="#cb303-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">==</span> <span class="dv">70</span>)</span>
<span id="cb303-8"><a href="#cb303-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-9"><a href="#cb303-9" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-10"><a href="#cb303-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-11"><a href="#cb303-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> (SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">|</span> AGE <span class="sc">==</span> <span class="dv">70</span>))</span>
<span id="cb303-12"><a href="#cb303-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-13"><a href="#cb303-13" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-14"><a href="#cb303-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-15"><a href="#cb303-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb303-16"><a href="#cb303-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-17"><a href="#cb303-17" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-18"><a href="#cb303-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-19"><a href="#cb303-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb303-20"><a href="#cb303-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-21"><a href="#cb303-21" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-22"><a href="#cb303-22" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-23"><a href="#cb303-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb303-24"><a href="#cb303-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-25"><a href="#cb303-25" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-26"><a href="#cb303-26" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-27"><a href="#cb303-27" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Placebo"</span>,<span class="st">"Xanomeline High Dose"</span>) <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb303-28"><a href="#cb303-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-29"><a href="#cb303-29" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb303-30"><a href="#cb303-30" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb303-31"><a href="#cb303-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Placebo"</span>,<span class="st">"Xanomeline High Dose"</span>) <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">&gt;=</span> <span class="dv">70</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="rename" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Rename</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb304"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">usubjid=</span>USUBJID)</span>
<span id="cb304-3"><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-4"><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb304-5"><a href="#cb304-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">usubjid=</span>USUBJID,</span>
<span id="cb304-6"><a href="#cb304-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">trt=</span>TRT01P)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="arrange-sorting" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Arrange (sorting)</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb305"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">arrange</span>(AGE,SEX)</span>
<span id="cb305-4"><a href="#cb305-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-5"><a href="#cb305-5" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb305-6"><a href="#cb305-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb305-7"><a href="#cb305-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(AGE,<span class="fu">desc</span>(SEX))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="convert-var-names-to-lower-case" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> convert var names to lower case</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb306"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="fu">names</span>(adsl))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "studyid"  "usubjid"  "subjid"   "siteid"   "sitegr1"  "arm"     
 [7] "trt01p"   "trt01pn"  "trt01a"   "trt01an"  "trtsdt"   "trtedt"  
[13] "trtdur"   "avgdd"    "cumdose"  "age"      "agegr1"   "agegr1n" 
[19] "ageu"     "race"     "racen"    "sex"      "ethnic"   "saffl"   
[25] "ittfl"    "efffl"    "comp8fl"  "comp16fl" "comp24fl" "disconfl"
[31] "dsraefl"  "dthfl"    "bmibl"    "bmiblgr1" "heightbl" "weightbl"
[37] "educlvl"  "disonsdt" "durdis"   "durdsgr1" "visit1dt" "rfstdtc" 
[43] "rfendtc"  "visnumen" "rfendt"   "dcdecod"  "dcreascd" "mmsetot" </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb308"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl</span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(adsl1) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(adsl1))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="creating-new-variables" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> Creating new variables</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb309"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb309-2"><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">name=</span><span class="st">"Sri Ram"</span>)</span>
<span id="cb309-3"><a href="#cb309-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb309-4"><a href="#cb309-4" aria-hidden="true" tabindex="-1"></a>adsl_test <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb309-5"><a href="#cb309-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb309-6"><a href="#cb309-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">AGEGR1_t =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(AGE <span class="sc">&lt;</span> <span class="dv">65</span>, <span class="st">"&lt;65"</span>, <span class="st">"&gt;=65"</span>),                     <span class="co"># character</span></span>
<span id="cb309-7"><a href="#cb309-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">SAFFL_t  =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(TRTSDT), <span class="st">"Y"</span>, <span class="st">"N"</span>)                    <span class="co"># character flag</span></span>
<span id="cb309-8"><a href="#cb309-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb309-9"><a href="#cb309-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,AGE,AGEGR1_t,SAFFL_t,TRTSDT)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="bind-rows-set-operator-in-sas" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> bind rows ( set operator in SAS)</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb310"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bind rows</span></span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a>df_a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb310-3"><a href="#cb310-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb310-4"><a href="#cb310-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb310-5"><a href="#cb310-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb310-6"><a href="#cb310-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb310-7"><a href="#cb310-7" aria-hidden="true" tabindex="-1"></a>df_b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb310-8"><a href="#cb310-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb310-9"><a href="#cb310-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>),</span>
<span id="cb310-10"><a href="#cb310-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>)</span>
<span id="cb310-11"><a href="#cb310-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb310-12"><a href="#cb310-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-13"><a href="#cb310-13" aria-hidden="true" tabindex="-1"></a>com <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a,</span>
<span id="cb310-14"><a href="#cb310-14" aria-hidden="true" tabindex="-1"></a>                        df_b)</span>
<span id="cb310-15"><a href="#cb310-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-16"><a href="#cb310-16" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a, df_b,df_a,<span class="at">.id =</span> <span class="st">"source"</span>)</span>
<span id="cb310-17"><a href="#cb310-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-18"><a href="#cb310-18" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a, df_b,df_a,<span class="at">.id =</span> <span class="st">"source"</span>)</span>
<span id="cb310-19"><a href="#cb310-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-20"><a href="#cb310-20" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(<span class="st">"dset1"</span><span class="ot">=</span>df_a, </span>
<span id="cb310-21"><a href="#cb310-21" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"dset2"</span><span class="ot">=</span>df_b,</span>
<span id="cb310-22"><a href="#cb310-22" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"test"</span><span class="ot">=</span>df_a,<span class="at">.id =</span> <span class="st">"Source_var_name"</span>)</span>
<span id="cb310-23"><a href="#cb310-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-24"><a href="#cb310-24" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(<span class="fu">select</span>(df_a,id, value), </span>
<span id="cb310-25"><a href="#cb310-25" aria-hidden="true" tabindex="-1"></a>                                df_b)</span>
<span id="cb310-26"><a href="#cb310-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-27"><a href="#cb310-27" aria-hidden="true" tabindex="-1"></a>adsl_tot <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(adsl <span class="sc">|&gt;</span> </span>
<span id="cb310-28"><a href="#cb310-28" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01P,TRT01PN),</span>
<span id="cb310-29"><a href="#cb310-29" aria-hidden="true" tabindex="-1"></a>                             </span>
<span id="cb310-30"><a href="#cb310-30" aria-hidden="true" tabindex="-1"></a>                             adsl <span class="sc">|&gt;</span> </span>
<span id="cb310-31"><a href="#cb310-31" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">TRT01P=</span><span class="st">"Total"</span>, <span class="at">TRT01PN=</span><span class="dv">99</span>) <span class="sc">|&gt;</span></span>
<span id="cb310-32"><a href="#cb310-32" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01P,TRT01PN)</span>
<span id="cb310-33"><a href="#cb310-33" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="recode-similar-to-proc-format-in-sas" class="level1" data-number="15">
<h1 data-number="15"><span class="header-section-number">15</span> recode (similar to PROC FORMAT in SAS)</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb311"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a>sex_fm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M"</span><span class="ot">=</span><span class="st">"Male"</span>,</span>
<span id="cb311-2"><a href="#cb311-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">"F"</span><span class="ot">=</span><span class="st">"Female"</span></span>
<span id="cb311-3"><a href="#cb311-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb311-4"><a href="#cb311-4" aria-hidden="true" tabindex="-1"></a>adsl_test1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb311-5"><a href="#cb311-5" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">gender=</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(SEX,<span class="sc">!!!</span>sex_fm))</span>
<span id="cb311-6"><a href="#cb311-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-7"><a href="#cb311-7" aria-hidden="true" tabindex="-1"></a>adsl_test2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb311-8"><a href="#cb311-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">SEX=</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(SEX,<span class="st">"M"</span><span class="ot">=</span><span class="st">"Male"</span>,</span>
<span id="cb311-9"><a href="#cb311-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"F"</span><span class="ot">=</span><span class="st">"Female"</span>))</span>
<span id="cb311-10"><a href="#cb311-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-11"><a href="#cb311-11" aria-hidden="true" tabindex="-1"></a>adsl_test <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb311-12"><a href="#cb311-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb311-13"><a href="#cb311-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">gn =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(SEX<span class="sc">==</span><span class="st">"M"</span>,<span class="st">"Male"</span>,<span class="st">"Female"</span>)                    <span class="co"># character</span></span>
<span id="cb311-14"><a href="#cb311-14" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">|&gt;</span> </span>
<span id="cb311-15"><a href="#cb311-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,gn) <span class="sc">|&gt;</span> </span>
<span id="cb311-16"><a href="#cb311-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="joins" class="level1" data-number="16">
<h1 data-number="16"><span class="header-section-number">16</span> joins</h1>
<p>The dplyr package provides functions to join tables based on shared keys, such as patient IDs. The main types of joins include:</p>
<ul>
<li>inner_join()</li>
<li>left_join()</li>
<li>right_join()</li>
<li>full_join()</li>
<li>semi_join()</li>
<li>anti_join()</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb312"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient demographics data</span></span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_id =</span> <span class="fu">c</span>(<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>),</span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">45</span>, <span class="dv">29</span>, <span class="dv">56</span>),</span>
<span id="cb312-5"><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>)</span>
<span id="cb312-6"><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb312-7"><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-8"><a href="#cb312-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient lab results data</span></span>
<span id="cb312-9"><a href="#cb312-9" aria-hidden="true" tabindex="-1"></a>lab_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb312-10"><a href="#cb312-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_id =</span> <span class="fu">c</span>(<span class="dv">103</span>, <span class="dv">104</span>, <span class="dv">105</span>, <span class="dv">106</span>),</span>
<span id="cb312-11"><a href="#cb312-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">test =</span> <span class="fu">c</span>(<span class="st">"CBC"</span>, <span class="st">"Lipid Panel"</span>, <span class="st">"Blood Glucose"</span>, <span class="st">"CBC"</span>),</span>
<span id="cb312-12"><a href="#cb312-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">result =</span> <span class="fu">c</span>(<span class="st">"Normal"</span>, <span class="st">"High Cholesterol"</span>, <span class="st">"Elevated"</span>, <span class="st">"Normal"</span>)</span>
<span id="cb312-13"><a href="#cb312-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb312-14"><a href="#cb312-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-15"><a href="#cb312-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the data frames</span></span>
<span id="cb312-16"><a href="#cb312-16" aria-hidden="true" tabindex="-1"></a>patients</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender
1        101  34      F
2        102  45      M
3        103  29      M
4        104  56      F</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb314"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>lab_results</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id          test           result
1        103           CBC           Normal
2        104   Lipid Panel High Cholesterol
3        105 Blood Glucose         Elevated
4        106           CBC           Normal</code></pre>
</div>
</div>
<section id="innter-join" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="innter-join"><span class="header-section-number">16.1</span> innter join</h2>
<p><code>inner_join()</code>: returns only rows with matching patient IDs in both data frames.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb316"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inner join on patient_id</span></span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender        test           result
1        103  29      M         CBC           Normal
2        104  56      F Lipid Panel High Cholesterol</code></pre>
</div>
</div>
<p>In this example, only patients with patient_ids 103 and 104 are in both tables, so only their information appears in the result.</p>
</section>
<section id="left-join" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="left-join"><span class="header-section-number">16.2</span> left join</h2>
<p><code>left_join()</code> returns all rows from the patients data frame and matches rows from lab_results where possible. Unmatched rows in lab_results are filled with <code>NA</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb318"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join on patient_id</span></span>
<span id="cb318-2"><a href="#cb318-2" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender        test           result
1        101  34      F        &lt;NA&gt;             &lt;NA&gt;
2        102  45      M        &lt;NA&gt;             &lt;NA&gt;
3        103  29      M         CBC           Normal
4        104  56      F Lipid Panel High Cholesterol</code></pre>
</div>
</div>
<p>Here, all patients from patients are included, with <code>NA</code> for lab results where no match is found.</p>
</section>
<section id="right-join" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="right-join"><span class="header-section-number">16.3</span> right join</h2>
<p><code>right_join()</code> returns all rows from lab_results, matching rows from patients where possible. Unmatched rows in patients are filled with<code>NA</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb320"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Right join on patient_id</span></span>
<span id="cb320-2"><a href="#cb320-2" aria-hidden="true" tabindex="-1"></a><span class="fu">right_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender          test           result
1        103  29      M           CBC           Normal
2        104  56      F   Lipid Panel High Cholesterol
3        105  NA   &lt;NA&gt; Blood Glucose         Elevated
4        106  NA   &lt;NA&gt;           CBC           Normal</code></pre>
</div>
</div>
<p>In this example, all patients with lab results are included, with demographic data from patients where available.</p>
</section>
<section id="full-join" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="full-join"><span class="header-section-number">16.4</span> Full Join</h2>
<p><code>full_join()</code> returns all rows from both tables, with <code>NA</code> for missing matches in either table.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb322"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Full join on patient_id</span></span>
<span id="cb322-2"><a href="#cb322-2" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender          test           result
1        101  34      F          &lt;NA&gt;             &lt;NA&gt;
2        102  45      M          &lt;NA&gt;             &lt;NA&gt;
3        103  29      M           CBC           Normal
4        104  56      F   Lipid Panel High Cholesterol
5        105  NA   &lt;NA&gt; Blood Glucose         Elevated
6        106  NA   &lt;NA&gt;           CBC           Normal</code></pre>
</div>
</div>
</section>
<section id="semi-join" class="level2" data-number="16.5">
<h2 data-number="16.5" class="anchored" data-anchor-id="semi-join"><span class="header-section-number">16.5</span> Semi Join</h2>
<p><code>semi_join()</code> returns only the rows in patients that have a match in lab_results, without bringing in columns from lab_results.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb324"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Semi join on patient_id</span></span>
<span id="cb324-2"><a href="#cb324-2" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender
1        103  29      M
2        104  56      F</code></pre>
</div>
</div>
<p>Only patients with lab results are included here (patients 103 and 104).</p>
</section>
<section id="anti-join" class="level2" data-number="16.6">
<h2 data-number="16.6" class="anchored" data-anchor-id="anti-join"><span class="header-section-number">16.6</span> Anti join</h2>
<p><code>anti_join()</code> returns only the rows in patients that do not have a match in lab_results.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb326"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Anti join on patient_id</span></span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  patient_id age gender
1        101  34      F
2        102  45      M</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb328"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="co">#example</span></span>
<span id="cb328-2"><a href="#cb328-2" aria-hidden="true" tabindex="-1"></a>tab_a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb328-3"><a href="#cb328-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">c</span>(<span class="dv">001</span>,<span class="dv">002</span>,<span class="dv">003</span>,<span class="dv">004</span>),</span>
<span id="cb328-4"><a href="#cb328-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age=</span><span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">50</span>,<span class="dv">30</span>,<span class="dv">40</span>)</span>
<span id="cb328-5"><a href="#cb328-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-6"><a href="#cb328-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-7"><a href="#cb328-7" aria-hidden="true" tabindex="-1"></a>tab_b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb328-8"><a href="#cb328-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">c</span>(<span class="dv">001</span>,<span class="dv">002</span>,<span class="dv">004</span>,<span class="dv">005</span>),</span>
<span id="cb328-9"><a href="#cb328-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex=</span><span class="fu">c</span>(<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>)</span>
<span id="cb328-10"><a href="#cb328-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-11"><a href="#cb328-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-12"><a href="#cb328-12" aria-hidden="true" tabindex="-1"></a><span class="co">#inner join: </span></span>
<span id="cb328-13"><a href="#cb328-13" aria-hidden="true" tabindex="-1"></a>injointab <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">inner_join</span>(tab_a,tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb328-14"><a href="#cb328-14" aria-hidden="true" tabindex="-1"></a><span class="co">#full join:</span></span>
<span id="cb328-15"><a href="#cb328-15" aria-hidden="true" tabindex="-1"></a>fulljointab <span class="ot">&lt;-</span> <span class="fu">full_join</span>(tab_a,tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb328-16"><a href="#cb328-16" aria-hidden="true" tabindex="-1"></a><span class="co">#left join</span></span>
<span id="cb328-17"><a href="#cb328-17" aria-hidden="true" tabindex="-1"></a>leftjointab <span class="ot">&lt;-</span> <span class="fu">left_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb328-18"><a href="#cb328-18" aria-hidden="true" tabindex="-1"></a><span class="co">#right join</span></span>
<span id="cb328-19"><a href="#cb328-19" aria-hidden="true" tabindex="-1"></a>righjointab <span class="ot">&lt;-</span> <span class="fu">right_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb328-20"><a href="#cb328-20" aria-hidden="true" tabindex="-1"></a><span class="co">#anti_join</span></span>
<span id="cb328-21"><a href="#cb328-21" aria-hidden="true" tabindex="-1"></a>antijointab <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb328-22"><a href="#cb328-22" aria-hidden="true" tabindex="-1"></a>antijointab1 <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(<span class="at">x=</span>tab_b,<span class="at">y=</span>tab_a,<span class="at">by=</span><span class="st">"id"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="reshaping-data-with-tidyr" class="level1" data-number="17">
<h1 data-number="17"><span class="header-section-number">17</span> Reshaping data with tidyr</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb329"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb329-2"><a href="#cb329-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">visit=</span><span class="fu">c</span>(<span class="st">"wk0"</span>,<span class="st">"wk2"</span>,<span class="st">"wk4"</span>,<span class="st">"wk6"</span>,<span class="st">"wk12"</span>),</span>
<span id="cb329-3"><a href="#cb329-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_a=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>),</span>
<span id="cb329-4"><a href="#cb329-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_b=</span><span class="fu">c</span>(<span class="dv">50</span>,<span class="dv">40</span>,<span class="dv">30</span>,<span class="dv">20</span>,<span class="dv">10</span>),</span>
<span id="cb329-5"><a href="#cb329-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_c=</span><span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">25</span>,<span class="dv">35</span>,<span class="dv">45</span>,<span class="dv">55</span>))</span>
<span id="cb329-6"><a href="#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="co">#tidyr::pivot_longer</span></span>
<span id="cb329-7"><a href="#cb329-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb329-8"><a href="#cb329-8" aria-hidden="true" tabindex="-1"></a>test1 <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(<span class="at">data=</span>test,</span>
<span id="cb329-9"><a href="#cb329-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cols=</span><span class="fu">c</span>(drug_a,drug_b,drug_c),</span>
<span id="cb329-10"><a href="#cb329-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">names_to=</span><span class="st">"drug"</span>,</span>
<span id="cb329-11"><a href="#cb329-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">"dose"</span>)</span>
<span id="cb329-12"><a href="#cb329-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-13"><a href="#cb329-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-14"><a href="#cb329-14" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(<span class="at">data=</span>test1,</span>
<span id="cb329-15"><a href="#cb329-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">id_cols =</span>visit,</span>
<span id="cb329-16"><a href="#cb329-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_prefix =</span> <span class="st">"d_"</span>, <span class="co"># it is optional</span></span>
<span id="cb329-17"><a href="#cb329-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_from =</span> dose,</span>
<span id="cb329-18"><a href="#cb329-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_from =</span> drug)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="counting-with-n" class="level1" data-number="18">
<h1 data-number="18"><span class="header-section-number">18</span> counting with <code>n()</code></h1>
<p>When working with data, we often want to know the number of observations found for each factor or combination of factors. For this task, dplyr provides count(). For example, if we wanted to count the number of rows of data for each sex, we would do:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb330"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>cnt <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb330-2"><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(SEX)</span>
<span id="cb330-3"><a href="#cb330-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-4"><a href="#cb330-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-5"><a href="#cb330-5" aria-hidden="true" tabindex="-1"></a><span class="co"># race count by treatment</span></span>
<span id="cb330-6"><a href="#cb330-6" aria-hidden="true" tabindex="-1"></a>cnt2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb330-7"><a href="#cb330-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01P, RACE)</span>
<span id="cb330-8"><a href="#cb330-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-9"><a href="#cb330-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-10"><a href="#cb330-10" aria-hidden="true" tabindex="-1"></a><span class="co">#treatment count</span></span>
<span id="cb330-11"><a href="#cb330-11" aria-hidden="true" tabindex="-1"></a>cnt3 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb330-12"><a href="#cb330-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(TRT01P)) <span class="sc">|&gt;</span></span>
<span id="cb330-13"><a href="#cb330-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01P)</span>
<span id="cb330-14"><a href="#cb330-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-15"><a href="#cb330-15" aria-hidden="true" tabindex="-1"></a>adae <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adae.sas7bdat"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb330-16"><a href="#cb330-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">where</span>(is.character),<span class="sc">~</span> dplyr<span class="sc">::</span><span class="fu">na_if</span>(.,<span class="st">""</span>)))</span>
<span id="cb330-17"><a href="#cb330-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-18"><a href="#cb330-18" aria-hidden="true" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adsl.sas7bdat"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb330-19"><a href="#cb330-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">where</span>(is.character),<span class="sc">~</span> dplyr<span class="sc">::</span><span class="fu">na_if</span>(.,<span class="st">""</span>)))</span>
<span id="cb330-20"><a href="#cb330-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-21"><a href="#cb330-21" aria-hidden="true" tabindex="-1"></a>bign <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb330-22"><a href="#cb330-22" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(SAFFL <span class="sc">==</span> <span class="st">"Y"</span>) <span class="sc">|&gt;</span></span>
<span id="cb330-23"><a href="#cb330-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01AN, TRT01A) <span class="sc">|&gt;</span></span>
<span id="cb330-24"><a href="#cb330-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">TRTA =</span> TRT01A, <span class="at">TRTAN =</span> TRT01AN, <span class="at">bign =</span> n)</span>
<span id="cb330-25"><a href="#cb330-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-26"><a href="#cb330-26" aria-hidden="true" tabindex="-1"></a>bign1 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">count</span>(adsl, TRT01AN, TRT01A) <span class="sc">|&gt;</span></span>
<span id="cb330-27"><a href="#cb330-27" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">TRTA =</span> TRT01A, <span class="at">TRTAN =</span> TRT01AN, <span class="at">bign =</span> n)</span>
<span id="cb330-28"><a href="#cb330-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-29"><a href="#cb330-29" aria-hidden="true" tabindex="-1"></a>adae1 <span class="ot">&lt;-</span> adae <span class="sc">|&gt;</span> </span>
<span id="cb330-30"><a href="#cb330-30" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">distinct</span>(USUBJID,AEBODSYS,AEDECOD,TRTA,TRTAN,SAFFL)</span>
<span id="cb330-31"><a href="#cb330-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-32"><a href="#cb330-32" aria-hidden="true" tabindex="-1"></a>ae_t <span class="ot">&lt;-</span> adae1 <span class="sc">|&gt;</span></span>
<span id="cb330-33"><a href="#cb330-33" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(SAFFL <span class="sc">==</span> <span class="st">"Y"</span>) <span class="sc">|&gt;</span></span>
<span id="cb330-34"><a href="#cb330-34" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(TRTA) <span class="sc">|&gt;</span></span>
<span id="cb330-35"><a href="#cb330-35" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(AEBODSYS, AEDECOD)</span>
<span id="cb330-36"><a href="#cb330-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-37"><a href="#cb330-37" aria-hidden="true" tabindex="-1"></a>ae_t1 <span class="ot">&lt;-</span> ae_t <span class="sc">|&gt;</span></span>
<span id="cb330-38"><a href="#cb330-38" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(bign, <span class="at">by =</span> <span class="st">"TRTA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb330-39"><a href="#cb330-39" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb330-40"><a href="#cb330-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct =</span> <span class="fu">paste0</span>(<span class="st">"("</span>, <span class="fu">round</span>(n <span class="sc">/</span> bign <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">")"</span>),</span>
<span id="cb330-41"><a href="#cb330-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">val =</span> <span class="fu">paste0</span>(n,<span class="st">" "</span>,pct)</span>
<span id="cb330-42"><a href="#cb330-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb330-43"><a href="#cb330-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb330-44"><a href="#cb330-44" aria-hidden="true" tabindex="-1"></a>ae2 <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb330-45"><a href="#cb330-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> ae_t1,</span>
<span id="cb330-46"><a href="#cb330-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(AEBODSYS, AEDECOD),</span>
<span id="cb330-47"><a href="#cb330-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> TRTA,</span>
<span id="cb330-48"><a href="#cb330-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> val,</span>
<span id="cb330-49"><a href="#cb330-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_fill =</span> <span class="st">"0 (0.0)"</span></span>
<span id="cb330-50"><a href="#cb330-50" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="dplyr-distinct" class="level1" data-number="19">
<h1 data-number="19"><span class="header-section-number">19</span> dplyr distinct()</h1>
<p>The distinct() function in dplyr is used to return unique/distinct rows from a data frame or tibble. It removes duplicate rows based on the values in specified columns or all columns if none are specified.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb331"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distinct</span></span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a>distinct_trt <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(TRT01P,TRT01PN)</span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(distinct_trt)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  TRT01P               TRT01PN
  &lt;chr&gt;                  &lt;dbl&gt;
1 Placebo                    0
2 Xanomeline High Dose      81
3 Xanomeline Low Dose       54</code></pre>
</div>
</div>
</section>
<section id="case_when" class="level1" data-number="20">
<h1 data-number="20"><span class="header-section-number">20</span> case_when()</h1>
<p>The case_when() function in dplyr is a powerful tool for creating new variables based on multiple conditions. It allows you to specify a series of conditions and corresponding values to assign when those conditions are met.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb333"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb333-3"><a href="#cb333-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">agegrp1 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb333-4"><a href="#cb333-4" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Child"</span>,</span>
<span id="cb333-5"><a href="#cb333-5" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> AGE <span class="sc">&lt;</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"Adult"</span>,</span>
<span id="cb333-6"><a href="#cb333-6" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&gt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"Senior"</span>,</span>
<span id="cb333-7"><a href="#cb333-7" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span>  <span class="co"># Default case</span></span>
<span id="cb333-8"><a href="#cb333-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb333-9"><a href="#cb333-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb333-10"><a href="#cb333-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID, AGE, agegrp1) <span class="sc">|&gt;</span> </span>
<span id="cb333-11"><a href="#cb333-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="create-seq-no." class="level1" data-number="21">
<h1 data-number="21"><span class="header-section-number">21</span> create seq no.</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb334"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>class <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/class.sas7bdat"</span>)</span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-3"><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-4"><a href="#cb334-4" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(class, Age)</span>
<span id="cb334-5"><a href="#cb334-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create t1 data set with first and last records for each unique value of 'age'</span></span>
<span id="cb334-6"><a href="#cb334-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-7"><a href="#cb334-7" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-8"><a href="#cb334-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-9"><a href="#cb334-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-10"><a href="#cb334-10" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">seq =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>()) </span>
<span id="cb334-11"><a href="#cb334-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-12"><a href="#cb334-12" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-13"><a href="#cb334-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">seq =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(), <span class="at">.by =</span> Age) <span class="sc">|&gt;</span> </span>
<span id="cb334-14"><a href="#cb334-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age)</span>
<span id="cb334-15"><a href="#cb334-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-16"><a href="#cb334-16" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-17"><a href="#cb334-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-18"><a href="#cb334-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-19"><a href="#cb334-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span> )</span>
<span id="cb334-20"><a href="#cb334-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-21"><a href="#cb334-21" aria-hidden="true" tabindex="-1"></a>t4 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-22"><a href="#cb334-22" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-23"><a href="#cb334-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb334-24"><a href="#cb334-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span>
<span id="cb334-25"><a href="#cb334-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-26"><a href="#cb334-26" aria-hidden="true" tabindex="-1"></a>t5 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-27"><a href="#cb334-27" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span> </span>
<span id="cb334-28"><a href="#cb334-28" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span>
<span id="cb334-29"><a href="#cb334-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-30"><a href="#cb334-30" aria-hidden="true" tabindex="-1"></a>t6 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb334-31"><a href="#cb334-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span> </span>
<span id="cb334-32"><a href="#cb334-32" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span><span class="sc">|</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="lists-lapply-purrr" class="level1" data-number="22">
<h1 data-number="22"><span class="header-section-number">22</span> Lists: <code>lapply</code>, purrr</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb335"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b=</span><span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb335-2"><a href="#cb335-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(lst, mean)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 2

$b
[1] 11</code></pre>
</div>
</div>
</section>
<section id="exercises" class="level1" data-number="23">
<h1 data-number="23"><span class="header-section-number">23</span> Exercises</h1>
<ol type="1">
<li>Using <code>across()</code>, standardize (<code>(x-mean)/sd</code>) numeric columns.</li>
<li>Create a row-wise mean of <code>age</code> and <code>wt</code>.</li>
<li>Split <code>df</code> by <code>grp</code> and compute group means with <code>lapply</code> or <code>purrr::map</code>.</li>
</ol>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./02-data-types-structures.html" class="pagination-link" aria-label="Data Types &amp; Data Structures">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Types &amp; Data Structures</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04-reading-sas.html" class="pagination-link" aria-label="Reading SAS Datasets (+ Cleaning)">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reading SAS Datasets (+ Cleaning)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb337" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Manipulating Vectors, Data Frames, and Lists"</span></span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb337-4"><a href="#cb337-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-7"><a href="#cb337-7" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-8"><a href="#cb337-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb337-9"><a href="#cb337-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb337-10"><a href="#cb337-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb337-11"><a href="#cb337-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-12"><a href="#cb337-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-13"><a href="#cb337-13" aria-hidden="true" tabindex="-1"></a><span class="fu"># Vectors: Indexing &amp; Vectorized Ops</span></span>
<span id="cb337-16"><a href="#cb337-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-17"><a href="#cb337-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating vector</span></span>
<span id="cb337-18"><a href="#cb337-18" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb337-19"><a href="#cb337-19" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb337-20"><a href="#cb337-20" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb337-21"><a href="#cb337-21" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb337-22"><a href="#cb337-22" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb337-23"><a href="#cb337-23" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb337-24"><a href="#cb337-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-25"><a href="#cb337-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Naming a vector</span></span>
<span id="cb337-26"><a href="#cb337-26" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb337-27"><a href="#cb337-27" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a) <span class="co">#Returns null</span></span>
<span id="cb337-28"><a href="#cb337-28" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"one"</span>,<span class="st">"two"</span>,<span class="st">"three"</span>)</span>
<span id="cb337-29"><a href="#cb337-29" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a)</span>
<span id="cb337-30"><a href="#cb337-30" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb337-31"><a href="#cb337-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-32"><a href="#cb337-32" aria-hidden="true" tabindex="-1"></a><span class="co">#2)Accessing vector element</span></span>
<span id="cb337-33"><a href="#cb337-33" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-34"><a href="#cb337-34" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]</span>
<span id="cb337-35"><a href="#cb337-35" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb337-36"><a href="#cb337-36" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb337-37"><a href="#cb337-37" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb337-38"><a href="#cb337-38" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span>
<span id="cb337-39"><a href="#cb337-39" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[<span class="dv">10</span>]</span>
<span id="cb337-40"><a href="#cb337-40" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(y)</span>
<span id="cb337-41"><a href="#cb337-41" aria-hidden="true" tabindex="-1"></a><span class="co">#Note: X[0],x[10],output is numeric class only</span></span>
<span id="cb337-42"><a href="#cb337-42" aria-hidden="true" tabindex="-1"></a><span class="co">#************************************</span></span>
<span id="cb337-43"><a href="#cb337-43" aria-hidden="true" tabindex="-1"></a><span class="co">#3)Modification of Vector elements</span></span>
<span id="cb337-44"><a href="#cb337-44" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-45"><a href="#cb337-45" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span><span class="dv">13</span></span>
<span id="cb337-46"><a href="#cb337-46" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">17</span>)</span>
<span id="cb337-47"><a href="#cb337-47" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]<span class="ot">=</span><span class="fu">c</span>(<span class="dv">110</span>,<span class="dv">170</span>,<span class="dv">70</span>)</span>
<span id="cb337-48"><a href="#cb337-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-49"><a href="#cb337-49" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb337-50"><a href="#cb337-50" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-51"><a href="#cb337-51" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">9</span>]<span class="ot">=</span>x[<span class="dv">7</span>]</span>
<span id="cb337-52"><a href="#cb337-52" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb337-53"><a href="#cb337-53" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-54"><a href="#cb337-54" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">9</span>]<span class="ot">=</span>x[<span class="dv">2</span>]</span>
<span id="cb337-55"><a href="#cb337-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-56"><a href="#cb337-56" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-57"><a href="#cb337-57" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span>x[<span class="dv">11</span>] </span>
<span id="cb337-58"><a href="#cb337-58" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************</span></span>
<span id="cb337-59"><a href="#cb337-59" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-60"><a href="#cb337-60" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>)] <span class="co"># It assign 4 element of to 2nd element and 4th element to 5th element </span></span>
<span id="cb337-61"><a href="#cb337-61" aria-hidden="true" tabindex="-1"></a><span class="co">#****************************           from x=1,3,5,7</span></span>
<span id="cb337-62"><a href="#cb337-62" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-63"><a href="#cb337-63" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">7</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span>
<span id="cb337-64"><a href="#cb337-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-65"><a href="#cb337-65" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-66"><a href="#cb337-66" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>)]</span>
<span id="cb337-67"><a href="#cb337-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-68"><a href="#cb337-68" aria-hidden="true" tabindex="-1"></a><span class="co">#4)Airthematic Operations on Vector</span></span>
<span id="cb337-69"><a href="#cb337-69" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-70"><a href="#cb337-70" aria-hidden="true" tabindex="-1"></a>x<span class="sc">+</span><span class="dv">10</span></span>
<span id="cb337-71"><a href="#cb337-71" aria-hidden="true" tabindex="-1"></a>x<span class="dv">-5</span></span>
<span id="cb337-72"><a href="#cb337-72" aria-hidden="true" tabindex="-1"></a>x<span class="sc">*</span><span class="dv">10</span></span>
<span id="cb337-73"><a href="#cb337-73" aria-hidden="true" tabindex="-1"></a>x<span class="sc">/</span><span class="dv">10</span></span>
<span id="cb337-74"><a href="#cb337-74" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-75"><a href="#cb337-75" aria-hidden="true" tabindex="-1"></a>x<span class="sc">%/%</span><span class="dv">2</span></span>
<span id="cb337-76"><a href="#cb337-76" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-77"><a href="#cb337-77" aria-hidden="true" tabindex="-1"></a>x<span class="sc">%%</span><span class="dv">2</span></span>
<span id="cb337-78"><a href="#cb337-78" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x)</span>
<span id="cb337-79"><a href="#cb337-79" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span>
<span id="cb337-80"><a href="#cb337-80" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x)</span>
<span id="cb337-81"><a href="#cb337-81" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb337-82"><a href="#cb337-82" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(x)</span>
<span id="cb337-83"><a href="#cb337-83" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x)</span>
<span id="cb337-84"><a href="#cb337-84" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x)</span>
<span id="cb337-85"><a href="#cb337-85" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(x)</span>
<span id="cb337-86"><a href="#cb337-86" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,<span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">25</span>,<span class="fl">0.9</span>))</span>
<span id="cb337-87"><a href="#cb337-87" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(x)</span>
<span id="cb337-88"><a href="#cb337-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-89"><a href="#cb337-89" aria-hidden="true" tabindex="-1"></a><span class="co">#5)"WHICH" function</span></span>
<span id="cb337-90"><a href="#cb337-90" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-91"><a href="#cb337-91" aria-hidden="true" tabindex="-1"></a>x<span class="sc">&gt;</span><span class="dv">5</span></span>
<span id="cb337-92"><a href="#cb337-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-93"><a href="#cb337-93" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-94"><a href="#cb337-94" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">5</span>) <span class="co">#Returns the position,not values</span></span>
<span id="cb337-95"><a href="#cb337-95" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">5</span>)]</span>
<span id="cb337-96"><a href="#cb337-96" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span>x[x<span class="sc">&gt;</span><span class="dv">5</span>]</span>
<span id="cb337-97"><a href="#cb337-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-98"><a href="#cb337-98" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-99"><a href="#cb337-99" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x)</span>
<span id="cb337-100"><a href="#cb337-100" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">==</span><span class="fu">min</span>(x))</span>
<span id="cb337-101"><a href="#cb337-101" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">==</span><span class="fu">min</span>(x))]<span class="co">#Returns the  value</span></span>
<span id="cb337-102"><a href="#cb337-102" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(x)<span class="co">#Returns the position,not values</span></span>
<span id="cb337-103"><a href="#cb337-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-104"><a href="#cb337-104" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-105"><a href="#cb337-105" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span>
<span id="cb337-106"><a href="#cb337-106" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">==</span><span class="fu">max</span>(x)) <span class="co">#Returns the position,not values</span></span>
<span id="cb337-107"><a href="#cb337-107" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">==</span><span class="fu">max</span>(x))]<span class="co">#Returns the  value</span></span>
<span id="cb337-108"><a href="#cb337-108" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(x)<span class="co">#Returns the position,not values</span></span>
<span id="cb337-109"><a href="#cb337-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-110"><a href="#cb337-110" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-111"><a href="#cb337-111" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">2</span> <span class="sc">&amp;</span> x<span class="sc">&lt;</span><span class="dv">5</span>)</span>
<span id="cb337-112"><a href="#cb337-112" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">2</span> <span class="sc">&amp;</span> x<span class="sc">&lt;</span><span class="dv">5</span>)]</span>
<span id="cb337-113"><a href="#cb337-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-114"><a href="#cb337-114" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-115"><a href="#cb337-115" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">7</span> <span class="sc">|</span> x<span class="sc">&lt;</span><span class="dv">12</span>)</span>
<span id="cb337-116"><a href="#cb337-116" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x<span class="sc">&gt;</span><span class="dv">7</span> <span class="sc">|</span> x<span class="sc">&lt;</span><span class="dv">12</span>)]</span>
<span id="cb337-117"><a href="#cb337-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-118"><a href="#cb337-118" aria-hidden="true" tabindex="-1"></a><span class="co">#6)"REP" function</span></span>
<span id="cb337-119"><a href="#cb337-119" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="at">times=</span><span class="dv">10</span>)</span>
<span id="cb337-120"><a href="#cb337-120" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">100</span>,<span class="at">times=</span><span class="dv">10</span>)</span>
<span id="cb337-121"><a href="#cb337-121" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>),<span class="at">times=</span><span class="dv">4</span>)</span>
<span id="cb337-122"><a href="#cb337-122" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="st">"Kummam"</span>,<span class="at">times=</span><span class="dv">5</span>)</span>
<span id="cb337-123"><a href="#cb337-123" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Ramesh"</span>,<span class="st">"Kummam"</span>),<span class="at">times=</span><span class="dv">3</span>)</span>
<span id="cb337-124"><a href="#cb337-124" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb337-125"><a href="#cb337-125" aria-hidden="true" tabindex="-1"></a><span class="co">#x=rep(1:4,1:2) #output as invalid argument</span></span>
<span id="cb337-126"><a href="#cb337-126" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>))</span>
<span id="cb337-127"><a href="#cb337-127" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="at">each=</span><span class="dv">3</span>)</span>
<span id="cb337-128"><a href="#cb337-128" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="at">each=</span><span class="dv">2</span>,<span class="at">times=</span><span class="dv">3</span>)</span>
<span id="cb337-129"><a href="#cb337-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-130"><a href="#cb337-130" aria-hidden="true" tabindex="-1"></a><span class="co">#7)"SEQ" function</span></span>
<span id="cb337-131"><a href="#cb337-131" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">10</span>,<span class="at">by=</span><span class="dv">3</span>)</span>
<span id="cb337-132"><a href="#cb337-132" aria-hidden="true" tabindex="-1"></a><span class="co">#x=seq(from=1,to=10,by=-3) # wrong arguments</span></span>
<span id="cb337-133"><a href="#cb337-133" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">10</span>,<span class="at">to=</span><span class="dv">1</span>,<span class="at">by=</span><span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb337-134"><a href="#cb337-134" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">to=</span><span class="dv">10</span>,<span class="at">length=</span><span class="dv">100</span>)</span>
<span id="cb337-135"><a href="#cb337-135" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">by=</span><span class="dv">2</span>,<span class="at">length=</span><span class="dv">100</span>)</span>
<span id="cb337-136"><a href="#cb337-136" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>,<span class="at">by=</span><span class="dv">3</span>,<span class="at">length=</span><span class="dv">50</span>)</span>
<span id="cb337-137"><a href="#cb337-137" aria-hidden="true" tabindex="-1"></a>z<span class="ot">=</span><span class="fu">c</span>(x,y)</span>
<span id="cb337-138"><a href="#cb337-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-139"><a href="#cb337-139" aria-hidden="true" tabindex="-1"></a><span class="co">#8)seq_len() &amp; seq_along() functions</span></span>
<span id="cb337-140"><a href="#cb337-140" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">112</span>,<span class="dv">133</span>,<span class="dv">33</span>)</span>
<span id="cb337-141"><a href="#cb337-141" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span>
<span id="cb337-142"><a href="#cb337-142" aria-hidden="true" tabindex="-1"></a><span class="fu">seq_len</span>(<span class="fu">length</span>(x))</span>
<span id="cb337-143"><a href="#cb337-143" aria-hidden="true" tabindex="-1"></a><span class="fu">seq_along</span>(x) <span class="co">#Returns length of the object</span></span>
<span id="cb337-144"><a href="#cb337-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-145"><a href="#cb337-145" aria-hidden="true" tabindex="-1"></a><span class="co">#9) Dealing with missing values</span></span>
<span id="cb337-146"><a href="#cb337-146" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb337-147"><a href="#cb337-147" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb337-148"><a href="#cb337-148" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb337-149"><a href="#cb337-149" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(x) <span class="co">#Output is a logical vector</span></span>
<span id="cb337-150"><a href="#cb337-150" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb337-151"><a href="#cb337-151" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(x)</span>
<span id="cb337-152"><a href="#cb337-152" aria-hidden="true" tabindex="-1"></a><span class="co">#Note: Observe the below operations carefully</span></span>
<span id="cb337-153"><a href="#cb337-153" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="cn">NA</span>,<span class="dv">5</span>,<span class="cn">NA</span>)</span>
<span id="cb337-154"><a href="#cb337-154" aria-hidden="true" tabindex="-1"></a><span class="co">#x==NA # not followed it so far</span></span>
<span id="cb337-155"><a href="#cb337-155" aria-hidden="true" tabindex="-1"></a><span class="co">#x[x==NA]# not followed it so far</span></span>
<span id="cb337-156"><a href="#cb337-156" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb337-157"><a href="#cb337-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-158"><a href="#cb337-158" aria-hidden="true" tabindex="-1"></a><span class="co">#10) Naming a vector</span></span>
<span id="cb337-159"><a href="#cb337-159" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb337-160"><a href="#cb337-160" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>)</span>
<span id="cb337-161"><a href="#cb337-161" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>)]</span>
<span id="cb337-162"><a href="#cb337-162" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span><span class="fu">c</span>(<span class="st">"Ramesh"</span>,<span class="st">"Kummam"</span>)</span>
<span id="cb337-163"><a href="#cb337-163" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(y)<span class="ot">=</span><span class="fu">c</span>(<span class="st">"First"</span>,<span class="st">"Last"</span>)</span>
<span id="cb337-164"><a href="#cb337-164" aria-hidden="true" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="st">"Last"</span>,<span class="st">"First"</span>)]</span>
<span id="cb337-165"><a href="#cb337-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-166"><a href="#cb337-166" aria-hidden="true" tabindex="-1"></a><span class="co">#9) Checking the availability of elements in a vector</span></span>
<span id="cb337-167"><a href="#cb337-167" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb337-168"><a href="#cb337-168" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb337-169"><a href="#cb337-169" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> a</span>
<span id="cb337-170"><a href="#cb337-170" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> b</span>
<span id="cb337-171"><a href="#cb337-171" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%in%</span> b</span>
<span id="cb337-172"><a href="#cb337-172" aria-hidden="true" tabindex="-1"></a>b <span class="sc">%in%</span> a</span>
<span id="cb337-173"><a href="#cb337-173" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(a,b)</span>
<span id="cb337-174"><a href="#cb337-174" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(b,a)</span>
<span id="cb337-175"><a href="#cb337-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-176"><a href="#cb337-176" aria-hidden="true" tabindex="-1"></a><span class="co"># print strings</span></span>
<span id="cb337-177"><a href="#cb337-177" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"string"</span>)</span>
<span id="cb337-178"><a href="#cb337-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-179"><a href="#cb337-179" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate strings "a" + "b" = "ab"</span></span>
<span id="cb337-180"><a href="#cb337-180" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb337-181"><a href="#cb337-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-182"><a href="#cb337-182" aria-hidden="true" tabindex="-1"></a><span class="co"># paste objects of different length</span></span>
<span id="cb337-183"><a href="#cb337-183" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"i"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span><span class="st">"."</span>)</span>
<span id="cb337-184"><a href="#cb337-184" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span><span class="st">"."</span>)</span>
<span id="cb337-185"><a href="#cb337-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-186"><a href="#cb337-186" aria-hidden="true" tabindex="-1"></a><span class="co"># paste with collapsing</span></span>
<span id="cb337-187"><a href="#cb337-187" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">sep =</span> <span class="st">""</span>, <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb337-188"><a href="#cb337-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-189"><a href="#cb337-189" aria-hidden="true" tabindex="-1"></a><span class="co"># paste withour collapsing</span></span>
<span id="cb337-190"><a href="#cb337-190" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">"i"</span>,<span class="st">"j"</span>, <span class="st">"k"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb337-191"><a href="#cb337-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-192"><a href="#cb337-192" aria-hidden="true" tabindex="-1"></a><span class="co"># paste0() shorter version of paste(..., sep ="")</span></span>
<span id="cb337-193"><a href="#cb337-193" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">","</span>, <span class="st">"I"</span>, <span class="st">"use"</span>, <span class="st">"R"</span>)</span>
<span id="cb337-194"><a href="#cb337-194" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">","</span>, <span class="st">"I"</span>, <span class="st">"use"</span>, <span class="st">"R"</span>, <span class="at">sep =</span><span class="st">" "</span>)</span>
<span id="cb337-195"><a href="#cb337-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-196"><a href="#cb337-196" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate strings with cat()</span></span>
<span id="cb337-197"><a href="#cb337-197" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">"!"</span>)</span>
<span id="cb337-198"><a href="#cb337-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-199"><a href="#cb337-199" aria-hidden="true" tabindex="-1"></a><span class="co"># it prints withoute "" quotes !!!</span></span>
<span id="cb337-200"><a href="#cb337-200" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Hello"</span>, <span class="st">"world"</span>, <span class="st">"!"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb337-201"><a href="#cb337-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-202"><a href="#cb337-202" aria-hidden="true" tabindex="-1"></a><span class="co"># counting number of characters nchar()</span></span>
<span id="cb337-203"><a href="#cb337-203" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(<span class="st">"Hello world"</span>)</span>
<span id="cb337-204"><a href="#cb337-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-205"><a href="#cb337-205" aria-hidden="true" tabindex="-1"></a><span class="co"># load US states names from data frame regarding crime rate</span></span>
<span id="cb337-206"><a href="#cb337-206" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> USArrests</span>
<span id="cb337-207"><a href="#cb337-207" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span>
<span id="cb337-208"><a href="#cb337-208" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(df)</span>
<span id="cb337-209"><a href="#cb337-209" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df) </span>
<span id="cb337-210"><a href="#cb337-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-211"><a href="#cb337-211" aria-hidden="true" tabindex="-1"></a><span class="co"># convert all states names to upper case</span></span>
<span id="cb337-212"><a href="#cb337-212" aria-hidden="true" tabindex="-1"></a>states_upper <span class="ot">&lt;-</span> <span class="fu">toupper</span>(states)</span>
<span id="cb337-213"><a href="#cb337-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-214"><a href="#cb337-214" aria-hidden="true" tabindex="-1"></a><span class="co"># convert all names to lower</span></span>
<span id="cb337-215"><a href="#cb337-215" aria-hidden="true" tabindex="-1"></a>states_lower <span class="ot">&lt;-</span> <span class="fu">tolower</span>(states)</span>
<span id="cb337-216"><a href="#cb337-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-217"><a href="#cb337-217" aria-hidden="true" tabindex="-1"></a><span class="co"># or select which to apply with function casefol</span></span>
<span id="cb337-218"><a href="#cb337-218" aria-hidden="true" tabindex="-1"></a><span class="fu">casefold</span>(<span class="at">x =</span> states, <span class="at">upper =</span> T)</span>
<span id="cb337-219"><a href="#cb337-219" aria-hidden="true" tabindex="-1"></a><span class="fu">casefold</span>(<span class="at">x =</span> states, <span class="at">upper =</span> F)</span>
<span id="cb337-220"><a href="#cb337-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-221"><a href="#cb337-221" aria-hidden="true" tabindex="-1"></a><span class="co"># character translation</span></span>
<span id="cb337-222"><a href="#cb337-222" aria-hidden="true" tabindex="-1"></a><span class="fu">chartr</span>(<span class="at">old =</span> <span class="st">"o"</span>, <span class="at">new =</span> <span class="st">"0"</span>, <span class="at">x =</span> <span class="st">"Hello World"</span>)</span>
<span id="cb337-223"><a href="#cb337-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-224"><a href="#cb337-224" aria-hidden="true" tabindex="-1"></a><span class="co"># sorting strings </span></span>
<span id="cb337-225"><a href="#cb337-225" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(states, <span class="at">decreasing =</span> F) <span class="co">#ascending order</span></span>
<span id="cb337-226"><a href="#cb337-226" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(states, <span class="at">decreasing =</span> T) <span class="co">#descending order</span></span>
<span id="cb337-227"><a href="#cb337-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-228"><a href="#cb337-228" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting parts of string</span></span>
<span id="cb337-229"><a href="#cb337-229" aria-hidden="true" tabindex="-1"></a><span class="co"># sub string first 3 letters from state name Alabama</span></span>
<span id="cb337-230"><a href="#cb337-230" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> <span class="st">"Alabama"</span>, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">3</span>)</span>
<span id="cb337-231"><a href="#cb337-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-232"><a href="#cb337-232" aria-hidden="true" tabindex="-1"></a><span class="co"># String matching - back to toy example</span></span>
<span id="cb337-233"><a href="#cb337-233" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(regex)</span>
<span id="cb337-234"><a href="#cb337-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-235"><a href="#cb337-235" aria-hidden="true" tabindex="-1"></a><span class="co"># get all country names</span></span>
<span id="cb337-236"><a href="#cb337-236" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("countrycode")</span></span>
<span id="cb337-237"><a href="#cb337-237" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(countrycode)</span>
<span id="cb337-238"><a href="#cb337-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-239"><a href="#cb337-239" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(countrycode<span class="sc">::</span>codelist<span class="sc">$</span>country.name.en)</span>
<span id="cb337-240"><a href="#cb337-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-241"><a href="#cb337-241" aria-hidden="true" tabindex="-1"></a><span class="co"># countries beginning with letter "A"</span></span>
<span id="cb337-242"><a href="#cb337-242" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)</span>
<span id="cb337-243"><a href="#cb337-243" aria-hidden="true" tabindex="-1"></a>countries[<span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)]</span>
<span id="cb337-244"><a href="#cb337-244" aria-hidden="true" tabindex="-1"></a>countries[<span class="fu">grepl</span>(<span class="at">pattern =</span> <span class="st">"^A"</span>, <span class="at">x =</span> countries)]</span>
<span id="cb337-245"><a href="#cb337-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-246"><a href="#cb337-246" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names that end with letter "y"</span></span>
<span id="cb337-247"><a href="#cb337-247" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*y$"</span>, <span class="at">x =</span> countries)</span>
<span id="cb337-248"><a href="#cb337-248" aria-hidden="true" tabindex="-1"></a>countries[rez]</span>
<span id="cb337-249"><a href="#cb337-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-250"><a href="#cb337-250" aria-hidden="true" tabindex="-1"></a><span class="co"># all country with 2 words or more for a country name</span></span>
<span id="cb337-251"><a href="#cb337-251" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">s</span><span class="sc">\\</span><span class="st">w"</span>, <span class="at">x =</span> countries)</span>
<span id="cb337-252"><a href="#cb337-252" aria-hidden="true" tabindex="-1"></a>countries[rez]</span>
<span id="cb337-253"><a href="#cb337-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-254"><a href="#cb337-254" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names that end with letter "e" or "i"</span></span>
<span id="cb337-255"><a href="#cb337-255" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*e$|*i$"</span>, <span class="at">x =</span> countries)</span>
<span id="cb337-256"><a href="#cb337-256" aria-hidden="true" tabindex="-1"></a>countries[rez]</span>
<span id="cb337-257"><a href="#cb337-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-258"><a href="#cb337-258" aria-hidden="true" tabindex="-1"></a><span class="co"># all country names which contain combination of letters “gin” </span></span>
<span id="cb337-259"><a href="#cb337-259" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"*(gin)"</span>, <span class="at">x =</span> countries)</span>
<span id="cb337-260"><a href="#cb337-260" aria-hidden="true" tabindex="-1"></a>countries[rez]</span>
<span id="cb337-261"><a href="#cb337-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-262"><a href="#cb337-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-263"><a href="#cb337-263" aria-hidden="true" tabindex="-1"></a><span class="co"># metacharacters and double backslash sign</span></span>
<span id="cb337-264"><a href="#cb337-264" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"dollar $"</span>, <span class="st">"dollar"</span>, <span class="st">"US dollar"</span>)</span>
<span id="cb337-265"><a href="#cb337-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-266"><a href="#cb337-266" aria-hidden="true" tabindex="-1"></a><span class="co"># how to escape metacharacters in R</span></span>
<span id="cb337-267"><a href="#cb337-267" aria-hidden="true" tabindex="-1"></a><span class="co"># we would like to match a word with "$" dollar sign</span></span>
<span id="cb337-268"><a href="#cb337-268" aria-hidden="true" tabindex="-1"></a>strings</span>
<span id="cb337-269"><a href="#cb337-269" aria-hidden="true" tabindex="-1"></a>rez1 <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"$"</span>, <span class="at">x =</span> strings) <span class="co"># wrong way all are find $ indicating end of string</span></span>
<span id="cb337-270"><a href="#cb337-270" aria-hidden="true" tabindex="-1"></a>strings[rez1]</span>
<span id="cb337-271"><a href="#cb337-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-272"><a href="#cb337-272" aria-hidden="true" tabindex="-1"></a><span class="co"># we need to escape $ with \ backslash</span></span>
<span id="cb337-273"><a href="#cb337-273" aria-hidden="true" tabindex="-1"></a><span class="co">#rez2 &lt;- grep(pattern = "\$", x = strings) # wrong way error</span></span>
<span id="cb337-274"><a href="#cb337-274" aria-hidden="true" tabindex="-1"></a><span class="co">#strings[rez2]</span></span>
<span id="cb337-275"><a href="#cb337-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-276"><a href="#cb337-276" aria-hidden="true" tabindex="-1"></a><span class="co"># right way $ escape with \\ double backslash</span></span>
<span id="cb337-277"><a href="#cb337-277" aria-hidden="true" tabindex="-1"></a><span class="co">#rez3 &lt;- grep(pattern = "\\$", x = strings) # wrong way error</span></span>
<span id="cb337-278"><a href="#cb337-278" aria-hidden="true" tabindex="-1"></a><span class="co">#strings[rez3]</span></span>
<span id="cb337-279"><a href="#cb337-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-280"><a href="#cb337-280" aria-hidden="true" tabindex="-1"></a><span class="co"># Escape dot .</span></span>
<span id="cb337-281"><a href="#cb337-281" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"word.word"</span>, <span class="st">"word word"</span>)</span>
<span id="cb337-282"><a href="#cb337-282" aria-hidden="true" tabindex="-1"></a>rez <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="at">x =</span> strings)</span>
<span id="cb337-283"><a href="#cb337-283" aria-hidden="true" tabindex="-1"></a>strings[rez]</span>
<span id="cb337-284"><a href="#cb337-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-285"><a href="#cb337-285" aria-hidden="true" tabindex="-1"></a><span class="co"># the hat sign beginning of the string and dollar sign end of string</span></span>
<span id="cb337-286"><a href="#cb337-286" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Word"</span>, <span class="st">"worD"</span>)</span>
<span id="cb337-287"><a href="#cb337-287" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"^W"</span>,strings)]</span>
<span id="cb337-288"><a href="#cb337-288" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"D$"</span>,strings)]</span>
<span id="cb337-289"><a href="#cb337-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-290"><a href="#cb337-290" aria-hidden="true" tabindex="-1"></a><span class="co"># example of an anchor sequences in R</span></span>
<span id="cb337-291"><a href="#cb337-291" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"123"</span>, <span class="st">"onetwothree"</span>, <span class="st">"1twothree"</span>)</span>
<span id="cb337-292"><a href="#cb337-292" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d"</span>, strings)] <span class="co"># digit character</span></span>
<span id="cb337-293"><a href="#cb337-293" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, strings)] <span class="co"># non-digit character</span></span>
<span id="cb337-294"><a href="#cb337-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-295"><a href="#cb337-295" aria-hidden="true" tabindex="-1"></a><span class="co"># example of a character classes</span></span>
<span id="cb337-296"><a href="#cb337-296" aria-hidden="true" tabindex="-1"></a>strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"123"</span>, <span class="st">"dollar"</span>, <span class="st">"shkjl"</span>)</span>
<span id="cb337-297"><a href="#cb337-297" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"[aeiou]"</span>, strings)] <span class="co"># match word with any vovel</span></span>
<span id="cb337-298"><a href="#cb337-298" aria-hidden="true" tabindex="-1"></a>strings[<span class="fu">grep</span>(<span class="st">"[0-9]"</span>, strings)] <span class="co"># match word with digits</span></span>
<span id="cb337-299"><a href="#cb337-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-300"><a href="#cb337-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-301"><a href="#cb337-301" aria-hidden="true" tabindex="-1"></a><span class="co"># find and replace sub() &amp; gsub()</span></span>
<span id="cb337-302"><a href="#cb337-302" aria-hidden="true" tabindex="-1"></a>string <span class="ot">&lt;-</span> <span class="st">"I have started to learn R, and I already love R."</span></span>
<span id="cb337-303"><a href="#cb337-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-304"><a href="#cb337-304" aria-hidden="true" tabindex="-1"></a><span class="co"># replace "R" with "X"</span></span>
<span id="cb337-305"><a href="#cb337-305" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="at">pattern =</span> <span class="st">"R"</span>, <span class="at">replacement =</span> <span class="st">"X"</span>, <span class="at">x =</span> string) <span class="co">#only first occurence replaced</span></span>
<span id="cb337-306"><a href="#cb337-306" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"R"</span>, <span class="at">replacement =</span> <span class="st">"X"</span>, <span class="at">x =</span> string) <span class="co">#all occurences replaced</span></span>
<span id="cb337-307"><a href="#cb337-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-308"><a href="#cb337-308" aria-hidden="true" tabindex="-1"></a><span class="co">#replace white space with blank space</span></span>
<span id="cb337-309"><a href="#cb337-309" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s"</span>, <span class="at">replacement =</span> <span class="st">""</span>, <span class="at">x =</span> string)</span>
<span id="cb337-310"><a href="#cb337-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-311"><a href="#cb337-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-312"><a href="#cb337-312" aria-hidden="true" tabindex="-1"></a><span class="co"># string split, split given sentence by comma ","</span></span>
<span id="cb337-313"><a href="#cb337-313" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> string, <span class="at">split =</span> <span class="st">","</span>)</span>
<span id="cb337-314"><a href="#cb337-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-315"><a href="#cb337-315" aria-hidden="true" tabindex="-1"></a><span class="co"># split phone numbers by digits</span></span>
<span id="cb337-316"><a href="#cb337-316" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"310-555-123"</span>, <span class="st">"311-444-456"</span>)</span>
<span id="cb337-317"><a href="#cb337-317" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="at">x =</span> numbers, <span class="at">split =</span> <span class="st">"-"</span>)</span>
<span id="cb337-318"><a href="#cb337-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-319"><a href="#cb337-319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-320"><a href="#cb337-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-321"><a href="#cb337-321" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Frames with dplyr</span></span>
<span id="cb337-324"><a href="#cb337-324" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-325"><a href="#cb337-325" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame </span></span>
<span id="cb337-326"><a href="#cb337-326" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">col1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb337-327"><a href="#cb337-327" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col2 =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), </span>
<span id="cb337-328"><a href="#cb337-328" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col3 =</span> <span class="fu">c</span>(T, F, T), </span>
<span id="cb337-329"><a href="#cb337-329" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col4 =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2020-01-03"</span>), <span class="fu">as.Date</span>(<span class="st">"2020-01-03"</span>)))</span>
<span id="cb337-330"><a href="#cb337-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-331"><a href="#cb337-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-332"><a href="#cb337-332" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame - vectors</span></span>
<span id="cb337-333"><a href="#cb337-333" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>,<span class="dv">10</span>)</span>
<span id="cb337-334"><a href="#cb337-334" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">length =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="st">"weeks"</span>)</span>
<span id="cb337-335"><a href="#cb337-335" aria-hidden="true" tabindex="-1"></a>col3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"word"</span>, <span class="dv">10</span>)</span>
<span id="cb337-336"><a href="#cb337-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-337"><a href="#cb337-337" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">num =</span> col1,</span>
<span id="cb337-338"><a href="#cb337-338" aria-hidden="true" tabindex="-1"></a>                  <span class="at">date =</span> col2,</span>
<span id="cb337-339"><a href="#cb337-339" aria-hidden="true" tabindex="-1"></a>                  <span class="at">string =</span> col3)</span>
<span id="cb337-340"><a href="#cb337-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-341"><a href="#cb337-341" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF structure</span></span>
<span id="cb337-342"><a href="#cb337-342" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df2)</span>
<span id="cb337-343"><a href="#cb337-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-344"><a href="#cb337-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-345"><a href="#cb337-345" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame - matrix</span></span>
<span id="cb337-346"><a href="#cb337-346" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">10</span>, <span class="at">byrow =</span> T)</span>
<span id="cb337-347"><a href="#cb337-347" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(M) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"row"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb337-348"><a href="#cb337-348" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(M) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"col"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb337-349"><a href="#cb337-349" aria-hidden="true" tabindex="-1"></a>M</span>
<span id="cb337-350"><a href="#cb337-350" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(M)</span>
<span id="cb337-351"><a href="#cb337-351" aria-hidden="true" tabindex="-1"></a>df3</span>
<span id="cb337-352"><a href="#cb337-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-353"><a href="#cb337-353" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF dimensions</span></span>
<span id="cb337-354"><a href="#cb337-354" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df3)</span>
<span id="cb337-355"><a href="#cb337-355" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df3)</span>
<span id="cb337-356"><a href="#cb337-356" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(df3)</span>
<span id="cb337-357"><a href="#cb337-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-358"><a href="#cb337-358" aria-hidden="true" tabindex="-1"></a><span class="co"># check DF type / class</span></span>
<span id="cb337-359"><a href="#cb337-359" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df3)</span>
<span id="cb337-360"><a href="#cb337-360" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(df3)</span>
<span id="cb337-361"><a href="#cb337-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-362"><a href="#cb337-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-363"><a href="#cb337-363" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.2 Accessing DF</span></span>
<span id="cb337-364"><a href="#cb337-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-365"><a href="#cb337-365" aria-hidden="true" tabindex="-1"></a><span class="co"># let's create DF - employees</span></span>
<span id="cb337-366"><a href="#cb337-366" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb337-367"><a href="#cb337-367" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Max"</span>, <span class="st">"Jane"</span>, <span class="st">"John"</span>, <span class="st">"Tony"</span>, <span class="st">"Janis"</span>, <span class="st">"Helen"</span>),</span>
<span id="cb337-368"><a href="#cb337-368" aria-hidden="true" tabindex="-1"></a>                     <span class="at">surname =</span> <span class="fu">c</span>(<span class="st">"Gordon"</span>, <span class="st">"Smith"</span>, <span class="st">"Don"</span>, <span class="st">"Price"</span>, <span class="st">"Jett"</span>, <span class="st">"Dust"</span>),</span>
<span id="cb337-369"><a href="#cb337-369" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">55</span>, <span class="dv">35</span>, <span class="dv">46</span>, <span class="dv">22</span>, <span class="dv">60</span>, <span class="dv">27</span>),</span>
<span id="cb337-370"><a href="#cb337-370" aria-hidden="true" tabindex="-1"></a>                     <span class="at">date_start_work =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"1985-09-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2010-10-01"</span>), <span class="fu">as.Date</span>(<span class="st">"1999-06-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2019-03-01"</span>), <span class="fu">as.Date</span>(<span class="st">"1980-04-15"</span>), <span class="fu">as.Date</span>(<span class="st">"2015-02-20"</span>)),</span>
<span id="cb337-371"><a href="#cb337-371" aria-hidden="true" tabindex="-1"></a>                     <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>),</span>
<span id="cb337-372"><a href="#cb337-372" aria-hidden="true" tabindex="-1"></a>                     <span class="at">manager_position =</span> <span class="fu">c</span>(T, F, F, F, T, F)</span>
<span id="cb337-373"><a href="#cb337-373" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb337-374"><a href="#cb337-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-375"><a href="#cb337-375" aria-hidden="true" tabindex="-1"></a><span class="co"># extract data as data frame (one column) - []</span></span>
<span id="cb337-376"><a href="#cb337-376" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[<span class="st">"name"</span>]</span>
<span id="cb337-377"><a href="#cb337-377" aria-hidden="true" tabindex="-1"></a>df_extr</span>
<span id="cb337-378"><a href="#cb337-378" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr)</span>
<span id="cb337-379"><a href="#cb337-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-380"><a href="#cb337-380" aria-hidden="true" tabindex="-1"></a><span class="co"># extract data as vector (one column) [[]] $</span></span>
<span id="cb337-381"><a href="#cb337-381" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[[<span class="st">"age"</span>]]</span>
<span id="cb337-382"><a href="#cb337-382" aria-hidden="true" tabindex="-1"></a>df_extr</span>
<span id="cb337-383"><a href="#cb337-383" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr) <span class="co"># vector factor</span></span>
<span id="cb337-384"><a href="#cb337-384" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp<span class="sc">$</span>age</span>
<span id="cb337-385"><a href="#cb337-385" aria-hidden="true" tabindex="-1"></a>df_extr</span>
<span id="cb337-386"><a href="#cb337-386" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df_extr) <span class="co"># vector factor</span></span>
<span id="cb337-387"><a href="#cb337-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-388"><a href="#cb337-388" aria-hidden="true" tabindex="-1"></a><span class="co"># extract multiple columns</span></span>
<span id="cb337-389"><a href="#cb337-389" aria-hidden="true" tabindex="-1"></a>df_extr <span class="ot">&lt;-</span> df_emp[<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"age"</span>)]</span>
<span id="cb337-390"><a href="#cb337-390" aria-hidden="true" tabindex="-1"></a>df_extr</span>
<span id="cb337-391"><a href="#cb337-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-392"><a href="#cb337-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-393"><a href="#cb337-393" aria-hidden="true" tabindex="-1"></a><span class="co"># data frame slicing</span></span>
<span id="cb337-394"><a href="#cb337-394" aria-hidden="true" tabindex="-1"></a>df_emp</span>
<span id="cb337-395"><a href="#cb337-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-396"><a href="#cb337-396" aria-hidden="true" tabindex="-1"></a><span class="co">#extract second row in name column (1 cell)</span></span>
<span id="cb337-397"><a href="#cb337-397" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">2</span>,<span class="dv">2</span>]</span>
<span id="cb337-398"><a href="#cb337-398" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">2</span>,<span class="st">"name"</span>]</span>
<span id="cb337-399"><a href="#cb337-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-400"><a href="#cb337-400" aria-hidden="true" tabindex="-1"></a><span class="co"># extract first 4 rows of last 2 columns </span></span>
<span id="cb337-401"><a href="#cb337-401" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb337-402"><a href="#cb337-402" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="fu">c</span>(<span class="st">"gender"</span>, <span class="st">"manager_position"</span>)]</span>
<span id="cb337-403"><a href="#cb337-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-404"><a href="#cb337-404" aria-hidden="true" tabindex="-1"></a><span class="co"># extract first column (all rows)</span></span>
<span id="cb337-405"><a href="#cb337-405" aria-hidden="true" tabindex="-1"></a>df_emp[,<span class="dv">1</span>]</span>
<span id="cb337-406"><a href="#cb337-406" aria-hidden="true" tabindex="-1"></a>df_emp[,<span class="st">"id"</span>]</span>
<span id="cb337-407"><a href="#cb337-407" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>id</span>
<span id="cb337-408"><a href="#cb337-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-409"><a href="#cb337-409" aria-hidden="true" tabindex="-1"></a><span class="co"># extract last 2 rows (all columns) </span></span>
<span id="cb337-410"><a href="#cb337-410" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,]</span>
<span id="cb337-411"><a href="#cb337-411" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df_emp)</span>
<span id="cb337-412"><a href="#cb337-412" aria-hidden="true" tabindex="-1"></a>df_emp[<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, cols]</span>
<span id="cb337-413"><a href="#cb337-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-414"><a href="#cb337-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-415"><a href="#cb337-415" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.3 Modifying data frame</span></span>
<span id="cb337-416"><a href="#cb337-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-417"><a href="#cb337-417" aria-hidden="true" tabindex="-1"></a><span class="co"># append column </span></span>
<span id="cb337-418"><a href="#cb337-418" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_emp, <span class="at">role =</span> <span class="fu">c</span>(<span class="st">"director"</span>, <span class="st">"secretary"</span>, <span class="st">"analyst"</span>, <span class="st">"researcher"</span>, <span class="st">"CEO"</span>, <span class="st">"analyst"</span>))</span>
<span id="cb337-419"><a href="#cb337-419" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>new_col <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb337-420"><a href="#cb337-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-421"><a href="#cb337-421" aria-hidden="true" tabindex="-1"></a><span class="co"># append rows </span></span>
<span id="cb337-422"><a href="#cb337-422" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_emp, <span class="fu">list</span>(<span class="dv">7</span>, <span class="st">"Mark"</span>, <span class="st">"Jax"</span>, <span class="dv">32</span>, <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="st">"M"</span>, F, <span class="st">"researcher"</span>, <span class="dv">1</span>))</span>
<span id="cb337-423"><a href="#cb337-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-424"><a href="#cb337-424" aria-hidden="true" tabindex="-1"></a><span class="co"># problem with factor variables (new values not in factor levels)</span></span>
<span id="cb337-425"><a href="#cb337-425" aria-hidden="true" tabindex="-1"></a><span class="co"># easy solution - append new row as data frame (rbind 2 data frames)!!! </span></span>
<span id="cb337-426"><a href="#cb337-426" aria-hidden="true" tabindex="-1"></a><span class="co"># will show few rows later</span></span>
<span id="cb337-427"><a href="#cb337-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-428"><a href="#cb337-428" aria-hidden="true" tabindex="-1"></a><span class="co"># remove column</span></span>
<span id="cb337-429"><a href="#cb337-429" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>new_col <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb337-430"><a href="#cb337-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-431"><a href="#cb337-431" aria-hidden="true" tabindex="-1"></a><span class="co"># remove row</span></span>
<span id="cb337-432"><a href="#cb337-432" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> df_emp[<span class="sc">-</span><span class="dv">7</span>,]</span>
<span id="cb337-433"><a href="#cb337-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-434"><a href="#cb337-434" aria-hidden="true" tabindex="-1"></a><span class="co"># merge two data frames (row wise)</span></span>
<span id="cb337-435"><a href="#cb337-435" aria-hidden="true" tabindex="-1"></a>df_new_emp <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">7</span>,</span>
<span id="cb337-436"><a href="#cb337-436" aria-hidden="true" tabindex="-1"></a>                         <span class="at">name =</span> <span class="st">"Mark"</span>,</span>
<span id="cb337-437"><a href="#cb337-437" aria-hidden="true" tabindex="-1"></a>                         <span class="at">surname =</span> <span class="st">"Jax"</span>,</span>
<span id="cb337-438"><a href="#cb337-438" aria-hidden="true" tabindex="-1"></a>                         <span class="at">age =</span> <span class="dv">32</span>,</span>
<span id="cb337-439"><a href="#cb337-439" aria-hidden="true" tabindex="-1"></a>                         <span class="at">date_start_work =</span> <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>),</span>
<span id="cb337-440"><a href="#cb337-440" aria-hidden="true" tabindex="-1"></a>                         <span class="at">gender =</span> <span class="st">"M"</span>,</span>
<span id="cb337-441"><a href="#cb337-441" aria-hidden="true" tabindex="-1"></a>                         <span class="at">manager_position =</span> F,</span>
<span id="cb337-442"><a href="#cb337-442" aria-hidden="true" tabindex="-1"></a>                         <span class="at">role =</span> <span class="st">"researcher"</span>)</span>
<span id="cb337-443"><a href="#cb337-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-444"><a href="#cb337-444" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_emp, df_new_emp)</span>
<span id="cb337-445"><a href="#cb337-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-446"><a href="#cb337-446" aria-hidden="true" tabindex="-1"></a><span class="co"># merge two data frames (column wise)</span></span>
<span id="cb337-447"><a href="#cb337-447" aria-hidden="true" tabindex="-1"></a>df_attr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">eye_color =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"brown"</span>, <span class="st">"hazel"</span>, <span class="st">"blue"</span>, <span class="st">"brown"</span>, <span class="st">"brown"</span>),</span>
<span id="cb337-448"><a href="#cb337-448" aria-hidden="true" tabindex="-1"></a>                      <span class="at">hair_color =</span> <span class="fu">c</span>(<span class="st">"blonde"</span>, <span class="st">"light brown"</span>, <span class="st">"black"</span>, <span class="st">"brown"</span>, <span class="st">"blonde"</span>, <span class="st">"dark brown"</span>, <span class="st">"brown"</span>))</span>
<span id="cb337-449"><a href="#cb337-449" aria-hidden="true" tabindex="-1"></a>df_emp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_emp, df_attr)</span>
<span id="cb337-450"><a href="#cb337-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-451"><a href="#cb337-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-452"><a href="#cb337-452" aria-hidden="true" tabindex="-1"></a><span class="co"># 4.3.4 Tips</span></span>
<span id="cb337-453"><a href="#cb337-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-454"><a href="#cb337-454" aria-hidden="true" tabindex="-1"></a><span class="co"># Df summary</span></span>
<span id="cb337-455"><a href="#cb337-455" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_emp)</span>
<span id="cb337-456"><a href="#cb337-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-457"><a href="#cb337-457" aria-hidden="true" tabindex="-1"></a><span class="co"># rows subsetting</span></span>
<span id="cb337-458"><a href="#cb337-458" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(<span class="at">x =</span> df_emp, gender <span class="sc">==</span> <span class="st">"M"</span>)</span>
<span id="cb337-459"><a href="#cb337-459" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(<span class="at">x =</span> df_emp, gender <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">&amp;</span> manager_position <span class="sc">==</span> T)</span>
<span id="cb337-460"><a href="#cb337-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-461"><a href="#cb337-461" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">which</span>(df_emp[,<span class="st">"gender"</span>] <span class="sc">==</span> <span class="st">"M"</span>)</span>
<span id="cb337-462"><a href="#cb337-462" aria-hidden="true" tabindex="-1"></a>df_emp[rows,]</span>
<span id="cb337-463"><a href="#cb337-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-464"><a href="#cb337-464" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">which</span>(df_emp[,<span class="st">"gender"</span>] <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">&amp;</span> df_emp[,<span class="st">"manager_position"</span>] <span class="sc">==</span> T)</span>
<span id="cb337-465"><a href="#cb337-465" aria-hidden="true" tabindex="-1"></a>df_emp[rows,]</span>
<span id="cb337-466"><a href="#cb337-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-467"><a href="#cb337-467" aria-hidden="true" tabindex="-1"></a><span class="co"># some calculations regarding data frames</span></span>
<span id="cb337-468"><a href="#cb337-468" aria-hidden="true" tabindex="-1"></a>nr_managers <span class="ot">&lt;-</span> <span class="fu">sum</span>(df_emp<span class="sc">$</span>manager_position)</span>
<span id="cb337-469"><a href="#cb337-469" aria-hidden="true" tabindex="-1"></a>mean_age <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_emp<span class="sc">$</span>age)</span>
<span id="cb337-470"><a href="#cb337-470" aria-hidden="true" tabindex="-1"></a>df_emp<span class="sc">$</span>name_surname <span class="ot">&lt;-</span> <span class="fu">paste</span>(df_emp<span class="sc">$</span>name, df_emp<span class="sc">$</span>surname, <span class="at">sep =</span> <span class="st">" "</span>) <span class="co"># merge name and surname</span></span>
<span id="cb337-471"><a href="#cb337-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-472"><a href="#cb337-472" aria-hidden="true" tabindex="-1"></a><span class="co"># use apply to sum over columns (age, manager_position)</span></span>
<span id="cb337-473"><a href="#cb337-473" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(df_emp[,<span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"manager_position"</span>)], <span class="dv">2</span>, sum)</span>
<span id="cb337-474"><a href="#cb337-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-475"><a href="#cb337-475" aria-hidden="true" tabindex="-1"></a><span class="co"># if statement</span></span>
<span id="cb337-476"><a href="#cb337-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-477"><a href="#cb337-477" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb337-478"><a href="#cb337-478" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb337-479"><a href="#cb337-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-480"><a href="#cb337-480" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&lt;</span> y){</span>
<span id="cb337-481"><a href="#cb337-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less than y"</span>)</span>
<span id="cb337-482"><a href="#cb337-482" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-483"><a href="#cb337-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-484"><a href="#cb337-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-485"><a href="#cb337-485" aria-hidden="true" tabindex="-1"></a><span class="co"># if-else statement</span></span>
<span id="cb337-486"><a href="#cb337-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-487"><a href="#cb337-487" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb337-488"><a href="#cb337-488" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb337-489"><a href="#cb337-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-490"><a href="#cb337-490" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y){</span>
<span id="cb337-491"><a href="#cb337-491" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is greater than y"</span>)</span>
<span id="cb337-492"><a href="#cb337-492" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb337-493"><a href="#cb337-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less or equal to y"</span>)</span>
<span id="cb337-494"><a href="#cb337-494" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-495"><a href="#cb337-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-496"><a href="#cb337-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-497"><a href="#cb337-497" aria-hidden="true" tabindex="-1"></a><span class="co"># if-else if-else statement</span></span>
<span id="cb337-498"><a href="#cb337-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-499"><a href="#cb337-499" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb337-500"><a href="#cb337-500" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb337-501"><a href="#cb337-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-502"><a href="#cb337-502" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y){</span>
<span id="cb337-503"><a href="#cb337-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is greater than y"</span>)</span>
<span id="cb337-504"><a href="#cb337-504" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> y){</span>
<span id="cb337-505"><a href="#cb337-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is less than y"</span>)</span>
<span id="cb337-506"><a href="#cb337-506" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb337-507"><a href="#cb337-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is equal to y"</span>)</span>
<span id="cb337-508"><a href="#cb337-508" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-509"><a href="#cb337-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-510"><a href="#cb337-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-511"><a href="#cb337-511" aria-hidden="true" tabindex="-1"></a><span class="co"># 5.1.2 relational operators</span></span>
<span id="cb337-512"><a href="#cb337-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-513"><a href="#cb337-513" aria-hidden="true" tabindex="-1"></a><span class="co"># scalar</span></span>
<span id="cb337-514"><a href="#cb337-514" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb337-515"><a href="#cb337-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-516"><a href="#cb337-516" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">4</span></span>
<span id="cb337-517"><a href="#cb337-517" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">0</span> </span>
<span id="cb337-518"><a href="#cb337-518" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">5</span></span>
<span id="cb337-519"><a href="#cb337-519" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;=</span> <span class="dv">3</span></span>
<span id="cb337-520"><a href="#cb337-520" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;=</span> <span class="dv">10</span></span>
<span id="cb337-521"><a href="#cb337-521" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb337-522"><a href="#cb337-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-523"><a href="#cb337-523" aria-hidden="true" tabindex="-1"></a><span class="co"># vectors</span></span>
<span id="cb337-524"><a href="#cb337-524" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">c</span>(F,T,<span class="dv">0</span>,<span class="dv">10</span>)</span>
<span id="cb337-525"><a href="#cb337-525" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">c</span>(T,F,F,T)</span>
<span id="cb337-526"><a href="#cb337-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-527"><a href="#cb337-527" aria-hidden="true" tabindex="-1"></a>X <span class="sc">==</span> Y <span class="co"># element-wise comparison</span></span>
<span id="cb337-528"><a href="#cb337-528" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&gt;</span> Y</span>
<span id="cb337-529"><a href="#cb337-529" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&lt;</span> Y</span>
<span id="cb337-530"><a href="#cb337-530" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&gt;=</span> Y</span>
<span id="cb337-531"><a href="#cb337-531" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&lt;=</span> Y</span>
<span id="cb337-532"><a href="#cb337-532" aria-hidden="true" tabindex="-1"></a>X <span class="sc">!=</span> Y</span>
<span id="cb337-533"><a href="#cb337-533" aria-hidden="true" tabindex="-1"></a>X <span class="sc">%in%</span> Y</span>
<span id="cb337-534"><a href="#cb337-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-535"><a href="#cb337-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-536"><a href="#cb337-536" aria-hidden="true" tabindex="-1"></a><span class="co"># 5.1.3 Logical operators </span></span>
<span id="cb337-537"><a href="#cb337-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-538"><a href="#cb337-538" aria-hidden="true" tabindex="-1"></a>X <span class="sc">|</span> Y</span>
<span id="cb337-539"><a href="#cb337-539" aria-hidden="true" tabindex="-1"></a><span class="co">#X || Y</span></span>
<span id="cb337-540"><a href="#cb337-540" aria-hidden="true" tabindex="-1"></a>X <span class="sc">&amp;</span> Y</span>
<span id="cb337-541"><a href="#cb337-541" aria-hidden="true" tabindex="-1"></a><span class="co">#X &amp;&amp; Y</span></span>
<span id="cb337-542"><a href="#cb337-542" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>X</span>
<span id="cb337-543"><a href="#cb337-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-544"><a href="#cb337-544" aria-hidden="true" tabindex="-1"></a><span class="co"># logical operators in if statement (flip coin twice)</span></span>
<span id="cb337-545"><a href="#cb337-545" aria-hidden="true" tabindex="-1"></a>c1 <span class="ot">&lt;-</span> <span class="st">"H"</span></span>
<span id="cb337-546"><a href="#cb337-546" aria-hidden="true" tabindex="-1"></a>c2 <span class="ot">&lt;-</span> <span class="st">"H"</span></span>
<span id="cb337-547"><a href="#cb337-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-548"><a href="#cb337-548" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(c1 <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"H"</span>){</span>
<span id="cb337-549"><a href="#cb337-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You win 10$"</span>)</span>
<span id="cb337-550"><a href="#cb337-550" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>((c1 <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"T"</span>) <span class="sc">|</span> (c1 <span class="sc">==</span> <span class="st">"T"</span> <span class="sc">&amp;</span> c2 <span class="sc">==</span> <span class="st">"H"</span>)){</span>
<span id="cb337-551"><a href="#cb337-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You win 2$"</span>)</span>
<span id="cb337-552"><a href="#cb337-552" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span>{</span>
<span id="cb337-553"><a href="#cb337-553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"You lose all the money"</span>)</span>
<span id="cb337-554"><a href="#cb337-554" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-555"><a href="#cb337-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-556"><a href="#cb337-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-557"><a href="#cb337-557" aria-hidden="true" tabindex="-1"></a><span class="co"># loop over iterations and print number of iteration</span></span>
<span id="cb337-558"><a href="#cb337-558" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(it <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb337-559"><a href="#cb337-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"iteration "</span>, it, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb337-560"><a href="#cb337-560" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-561"><a href="#cb337-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-562"><a href="#cb337-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-563"><a href="#cb337-563" aria-hidden="true" tabindex="-1"></a><span class="co"># sum of numbers in a sequence</span></span>
<span id="cb337-564"><a href="#cb337-564" aria-hidden="true" tabindex="-1"></a>sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb337-565"><a href="#cb337-565" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># initial sum</span></span>
<span id="cb337-566"><a href="#cb337-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-567"><a href="#cb337-567" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(val <span class="cf">in</span> sequence){</span>
<span id="cb337-568"><a href="#cb337-568" aria-hidden="true" tabindex="-1"></a>  s <span class="ot">&lt;-</span> s <span class="sc">+</span> val</span>
<span id="cb337-569"><a href="#cb337-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"value = "</span>, val, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb337-570"><a href="#cb337-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"s = "</span>, s, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb337-571"><a href="#cb337-571" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"--------------------"</span>)</span>
<span id="cb337-572"><a href="#cb337-572" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-573"><a href="#cb337-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-574"><a href="#cb337-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-575"><a href="#cb337-575" aria-hidden="true" tabindex="-1"></a><span class="co"># for loop with conditional statement</span></span>
<span id="cb337-576"><a href="#cb337-576" aria-hidden="true" tabindex="-1"></a><span class="co"># (count number of even numbers in a vector)</span></span>
<span id="cb337-577"><a href="#cb337-577" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">22</span>,<span class="dv">21</span>,<span class="dv">100</span>) <span class="co"># given numbers</span></span>
<span id="cb337-578"><a href="#cb337-578" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># counter for even numbers</span></span>
<span id="cb337-579"><a href="#cb337-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-580"><a href="#cb337-580" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(val <span class="cf">in</span> x){</span>
<span id="cb337-581"><a href="#cb337-581" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(val <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>){ <span class="co"># if number is divisible with 2</span></span>
<span id="cb337-582"><a href="#cb337-582" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb337-583"><a href="#cb337-583" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb337-584"><a href="#cb337-584" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb337-585"><a href="#cb337-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-586"><a href="#cb337-586" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(count)</span>
<span id="cb337-587"><a href="#cb337-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-588"><a href="#cb337-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-589"><a href="#cb337-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-590"><a href="#cb337-590" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-591"><a href="#cb337-591" aria-hidden="true" tabindex="-1"></a><span class="fu"># Read sas dataset</span></span>
<span id="cb337-594"><a href="#cb337-594" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-595"><a href="#cb337-595" aria-hidden="true" tabindex="-1"></a>dm <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/sdtm/dm.sas7bdat"</span>)</span>
<span id="cb337-596"><a href="#cb337-596" aria-hidden="true" tabindex="-1"></a>ae <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/sdtm/ae.sas7bdat"</span>)</span>
<span id="cb337-597"><a href="#cb337-597" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-598"><a href="#cb337-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-599"><a href="#cb337-599" aria-hidden="true" tabindex="-1"></a><span class="fu"># keeping selected columns</span></span>
<span id="cb337-602"><a href="#cb337-602" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-603"><a href="#cb337-603" aria-hidden="true" tabindex="-1"></a>dm_1 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-604"><a href="#cb337-604" aria-hidden="true" tabindex="-1"></a>       dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,ARM) <span class="sc">|&gt;</span> </span>
<span id="cb337-605"><a href="#cb337-605" aria-hidden="true" tabindex="-1"></a>       dplyr<span class="sc">::</span><span class="fu">filter</span>(ARM <span class="sc">==</span><span class="st">"Placebo"</span>)</span>
<span id="cb337-606"><a href="#cb337-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-607"><a href="#cb337-607" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-608"><a href="#cb337-608" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID<span class="sc">:</span>ARM) </span>
<span id="cb337-609"><a href="#cb337-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-610"><a href="#cb337-610" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-611"><a href="#cb337-611" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) </span>
<span id="cb337-612"><a href="#cb337-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-613"><a href="#cb337-613" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-614"><a href="#cb337-614" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) </span>
<span id="cb337-615"><a href="#cb337-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-616"><a href="#cb337-616" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-617"><a href="#cb337-617" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"AR"</span>)) </span>
<span id="cb337-618"><a href="#cb337-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-619"><a href="#cb337-619" aria-hidden="true" tabindex="-1"></a>dm_2 <span class="ot">&lt;-</span> dm <span class="sc">|&gt;</span> </span>
<span id="cb337-620"><a href="#cb337-620" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"DT"</span>)) </span>
<span id="cb337-621"><a href="#cb337-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-622"><a href="#cb337-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-623"><a href="#cb337-623" aria-hidden="true" tabindex="-1"></a>dm2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dm,USUBJID,ARM) </span>
<span id="cb337-624"><a href="#cb337-624" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-625"><a href="#cb337-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-626"><a href="#cb337-626" aria-hidden="true" tabindex="-1"></a><span class="fu"># dropping columns</span></span>
<span id="cb337-627"><a href="#cb337-627" aria-hidden="true" tabindex="-1"></a>To select all columns except certain ones, put a “-” in front of the variable to exclude it. For multiple variables, you can use the function c() to combine values into a vector or list. This will select all the variables in surveys except ARM, SITEID</span>
<span id="cb337-630"><a href="#cb337-630" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-631"><a href="#cb337-631" aria-hidden="true" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adsl.sas7bdat"</span>)</span>
<span id="cb337-632"><a href="#cb337-632" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(AGE, SEX, TRT01A))</span>
<span id="cb337-633"><a href="#cb337-633" aria-hidden="true" tabindex="-1"></a>adsl3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(STUDYID<span class="sc">:</span>ARM))</span>
<span id="cb337-634"><a href="#cb337-634" aria-hidden="true" tabindex="-1"></a>adsl4 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>))</span>
<span id="cb337-635"><a href="#cb337-635" aria-hidden="true" tabindex="-1"></a>adsl4 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">43</span>))</span>
<span id="cb337-636"><a href="#cb337-636" aria-hidden="true" tabindex="-1"></a>adsl5 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"A"</span>))</span>
<span id="cb337-637"><a href="#cb337-637" aria-hidden="true" tabindex="-1"></a>adsl6 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"DTC"</span>))</span>
<span id="cb337-638"><a href="#cb337-638" aria-hidden="true" tabindex="-1"></a>adsl7 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(adsl, <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"TRT"</span>))</span>
<span id="cb337-639"><a href="#cb337-639" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-640"><a href="#cb337-640" aria-hidden="true" tabindex="-1"></a>There are many helper functions available with select() like: starts_with(), ends_with(), contains() among others. These were imported from the tidyselect package. You can put a “-” in front of the helper function to negate it. Here is an example using contains():</span>
<span id="cb337-641"><a href="#cb337-641" aria-hidden="true" tabindex="-1"></a><span class="fu"># Filtering rows</span></span>
<span id="cb337-642"><a href="#cb337-642" aria-hidden="true" tabindex="-1"></a>To choose rows based on a specific criteria, use filter(): To select rows where the planned treatment code equals “Placebo”:</span>
<span id="cb337-645"><a href="#cb337-645" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-646"><a href="#cb337-646" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-647"><a href="#cb337-647" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A) <span class="sc">|&gt;</span> </span>
<span id="cb337-648"><a href="#cb337-648" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> )</span>
<span id="cb337-649"><a href="#cb337-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-650"><a href="#cb337-650" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-651"><a href="#cb337-651" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-652"><a href="#cb337-652" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">==</span> <span class="dv">70</span>)</span>
<span id="cb337-653"><a href="#cb337-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-654"><a href="#cb337-654" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-655"><a href="#cb337-655" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-656"><a href="#cb337-656" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> (SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">|</span> AGE <span class="sc">==</span> <span class="dv">70</span>))</span>
<span id="cb337-657"><a href="#cb337-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-658"><a href="#cb337-658" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-659"><a href="#cb337-659" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-660"><a href="#cb337-660" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb337-661"><a href="#cb337-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-662"><a href="#cb337-662" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-663"><a href="#cb337-663" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-664"><a href="#cb337-664" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb337-665"><a href="#cb337-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-666"><a href="#cb337-666" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-667"><a href="#cb337-667" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-668"><a href="#cb337-668" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A<span class="sc">==</span><span class="st">"Placebo"</span> <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb337-669"><a href="#cb337-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-670"><a href="#cb337-670" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-671"><a href="#cb337-671" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-672"><a href="#cb337-672" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Placebo"</span>,<span class="st">"Xanomeline High Dose"</span>) <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> <span class="sc">!</span>AGE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">70</span>,<span class="dv">80</span>))</span>
<span id="cb337-673"><a href="#cb337-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-674"><a href="#cb337-674" aria-hidden="true" tabindex="-1"></a>adsl2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-675"><a href="#cb337-675" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01A,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-676"><a href="#cb337-676" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TRT01A <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Placebo"</span>,<span class="st">"Xanomeline High Dose"</span>) <span class="sc">&amp;</span> <span class="sc">!</span>SEX <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> AGE <span class="sc">&gt;=</span> <span class="dv">70</span>)</span>
<span id="cb337-677"><a href="#cb337-677" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-678"><a href="#cb337-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-679"><a href="#cb337-679" aria-hidden="true" tabindex="-1"></a><span class="fu"># Rename</span></span>
<span id="cb337-682"><a href="#cb337-682" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-683"><a href="#cb337-683" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-684"><a href="#cb337-684" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">usubjid=</span>USUBJID)</span>
<span id="cb337-685"><a href="#cb337-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-686"><a href="#cb337-686" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-687"><a href="#cb337-687" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">usubjid=</span>USUBJID,</span>
<span id="cb337-688"><a href="#cb337-688" aria-hidden="true" tabindex="-1"></a>                <span class="at">trt=</span>TRT01P)</span>
<span id="cb337-689"><a href="#cb337-689" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-690"><a href="#cb337-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-691"><a href="#cb337-691" aria-hidden="true" tabindex="-1"></a><span class="fu"># Arrange (sorting)</span></span>
<span id="cb337-694"><a href="#cb337-694" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-695"><a href="#cb337-695" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-696"><a href="#cb337-696" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-697"><a href="#cb337-697" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">arrange</span>(AGE,SEX)</span>
<span id="cb337-698"><a href="#cb337-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-699"><a href="#cb337-699" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-700"><a href="#cb337-700" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,AGE) <span class="sc">|&gt;</span> </span>
<span id="cb337-701"><a href="#cb337-701" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(AGE,<span class="fu">desc</span>(SEX))</span>
<span id="cb337-702"><a href="#cb337-702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-703"><a href="#cb337-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-704"><a href="#cb337-704" aria-hidden="true" tabindex="-1"></a><span class="fu"># convert var names to lower case</span></span>
<span id="cb337-707"><a href="#cb337-707" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-708"><a href="#cb337-708" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="fu">names</span>(adsl))</span>
<span id="cb337-709"><a href="#cb337-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-710"><a href="#cb337-710" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl</span>
<span id="cb337-711"><a href="#cb337-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-712"><a href="#cb337-712" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(adsl1) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(adsl1))</span>
<span id="cb337-713"><a href="#cb337-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-714"><a href="#cb337-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-715"><a href="#cb337-715" aria-hidden="true" tabindex="-1"></a><span class="fu"># Creating new variables</span></span>
<span id="cb337-718"><a href="#cb337-718" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-719"><a href="#cb337-719" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-720"><a href="#cb337-720" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">name=</span><span class="st">"Sri Ram"</span>)</span>
<span id="cb337-721"><a href="#cb337-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-722"><a href="#cb337-722" aria-hidden="true" tabindex="-1"></a>adsl_test <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb337-723"><a href="#cb337-723" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb337-724"><a href="#cb337-724" aria-hidden="true" tabindex="-1"></a>    <span class="at">AGEGR1_t =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(AGE <span class="sc">&lt;</span> <span class="dv">65</span>, <span class="st">"&lt;65"</span>, <span class="st">"&gt;=65"</span>),                     <span class="co"># character</span></span>
<span id="cb337-725"><a href="#cb337-725" aria-hidden="true" tabindex="-1"></a>    <span class="at">SAFFL_t  =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(TRTSDT), <span class="st">"Y"</span>, <span class="st">"N"</span>)                    <span class="co"># character flag</span></span>
<span id="cb337-726"><a href="#cb337-726" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb337-727"><a href="#cb337-727" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,AGE,AGEGR1_t,SAFFL_t,TRTSDT)</span>
<span id="cb337-728"><a href="#cb337-728" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-729"><a href="#cb337-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-730"><a href="#cb337-730" aria-hidden="true" tabindex="-1"></a><span class="fu"># bind rows ( set operator in SAS)</span></span>
<span id="cb337-733"><a href="#cb337-733" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-734"><a href="#cb337-734" aria-hidden="true" tabindex="-1"></a><span class="co"># bind rows</span></span>
<span id="cb337-735"><a href="#cb337-735" aria-hidden="true" tabindex="-1"></a>df_a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-736"><a href="#cb337-736" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb337-737"><a href="#cb337-737" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb337-738"><a href="#cb337-738" aria-hidden="true" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb337-739"><a href="#cb337-739" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-740"><a href="#cb337-740" aria-hidden="true" tabindex="-1"></a>df_b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-741"><a href="#cb337-741" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb337-742"><a href="#cb337-742" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>),</span>
<span id="cb337-743"><a href="#cb337-743" aria-hidden="true" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>)</span>
<span id="cb337-744"><a href="#cb337-744" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-745"><a href="#cb337-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-746"><a href="#cb337-746" aria-hidden="true" tabindex="-1"></a>com <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a,</span>
<span id="cb337-747"><a href="#cb337-747" aria-hidden="true" tabindex="-1"></a>                        df_b)</span>
<span id="cb337-748"><a href="#cb337-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-749"><a href="#cb337-749" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a, df_b,df_a,<span class="at">.id =</span> <span class="st">"source"</span>)</span>
<span id="cb337-750"><a href="#cb337-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-751"><a href="#cb337-751" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(df_a, df_b,df_a,<span class="at">.id =</span> <span class="st">"source"</span>)</span>
<span id="cb337-752"><a href="#cb337-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-753"><a href="#cb337-753" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(<span class="st">"dset1"</span><span class="ot">=</span>df_a, </span>
<span id="cb337-754"><a href="#cb337-754" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"dset2"</span><span class="ot">=</span>df_b,</span>
<span id="cb337-755"><a href="#cb337-755" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"test"</span><span class="ot">=</span>df_a,<span class="at">.id =</span> <span class="st">"Source_var_name"</span>)</span>
<span id="cb337-756"><a href="#cb337-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-757"><a href="#cb337-757" aria-hidden="true" tabindex="-1"></a>df_combined <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(<span class="fu">select</span>(df_a,id, value), </span>
<span id="cb337-758"><a href="#cb337-758" aria-hidden="true" tabindex="-1"></a>                                df_b)</span>
<span id="cb337-759"><a href="#cb337-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-760"><a href="#cb337-760" aria-hidden="true" tabindex="-1"></a>adsl_tot <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-761"><a href="#cb337-761" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01P,TRT01PN),</span>
<span id="cb337-762"><a href="#cb337-762" aria-hidden="true" tabindex="-1"></a>                             </span>
<span id="cb337-763"><a href="#cb337-763" aria-hidden="true" tabindex="-1"></a>                             adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-764"><a href="#cb337-764" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">TRT01P=</span><span class="st">"Total"</span>, <span class="at">TRT01PN=</span><span class="dv">99</span>) <span class="sc">|&gt;</span></span>
<span id="cb337-765"><a href="#cb337-765" aria-hidden="true" tabindex="-1"></a>                               dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,TRT01P,TRT01PN)</span>
<span id="cb337-766"><a href="#cb337-766" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-767"><a href="#cb337-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-768"><a href="#cb337-768" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-769"><a href="#cb337-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-770"><a href="#cb337-770" aria-hidden="true" tabindex="-1"></a><span class="fu"># recode (similar to PROC FORMAT in SAS)</span></span>
<span id="cb337-773"><a href="#cb337-773" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-774"><a href="#cb337-774" aria-hidden="true" tabindex="-1"></a>sex_fm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"M"</span><span class="ot">=</span><span class="st">"Male"</span>,</span>
<span id="cb337-775"><a href="#cb337-775" aria-hidden="true" tabindex="-1"></a>            <span class="st">"F"</span><span class="ot">=</span><span class="st">"Female"</span></span>
<span id="cb337-776"><a href="#cb337-776" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-777"><a href="#cb337-777" aria-hidden="true" tabindex="-1"></a>adsl_test1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-778"><a href="#cb337-778" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">gender=</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(SEX,<span class="sc">!!!</span>sex_fm))</span>
<span id="cb337-779"><a href="#cb337-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-780"><a href="#cb337-780" aria-hidden="true" tabindex="-1"></a>adsl_test2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-781"><a href="#cb337-781" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">SEX=</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(SEX,<span class="st">"M"</span><span class="ot">=</span><span class="st">"Male"</span>,</span>
<span id="cb337-782"><a href="#cb337-782" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">"F"</span><span class="ot">=</span><span class="st">"Female"</span>))</span>
<span id="cb337-783"><a href="#cb337-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-784"><a href="#cb337-784" aria-hidden="true" tabindex="-1"></a>adsl_test <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb337-785"><a href="#cb337-785" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb337-786"><a href="#cb337-786" aria-hidden="true" tabindex="-1"></a>    <span class="at">gn =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(SEX<span class="sc">==</span><span class="st">"M"</span>,<span class="st">"Male"</span>,<span class="st">"Female"</span>)                    <span class="co"># character</span></span>
<span id="cb337-787"><a href="#cb337-787" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">|&gt;</span> </span>
<span id="cb337-788"><a href="#cb337-788" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID,SEX,gn) <span class="sc">|&gt;</span> </span>
<span id="cb337-789"><a href="#cb337-789" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb337-790"><a href="#cb337-790" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-791"><a href="#cb337-791" aria-hidden="true" tabindex="-1"></a><span class="fu"># joins</span></span>
<span id="cb337-792"><a href="#cb337-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-793"><a href="#cb337-793" aria-hidden="true" tabindex="-1"></a>The dplyr package provides functions to join tables based on shared keys, such as patient IDs. The main types of joins include:</span>
<span id="cb337-794"><a href="#cb337-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-795"><a href="#cb337-795" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>inner_join()</span>
<span id="cb337-796"><a href="#cb337-796" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>left_join()</span>
<span id="cb337-797"><a href="#cb337-797" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>right_join()</span>
<span id="cb337-798"><a href="#cb337-798" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>full_join()</span>
<span id="cb337-799"><a href="#cb337-799" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>semi_join()</span>
<span id="cb337-800"><a href="#cb337-800" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>anti_join()</span>
<span id="cb337-801"><a href="#cb337-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-804"><a href="#cb337-804" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-805"><a href="#cb337-805" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient demographics data</span></span>
<span id="cb337-806"><a href="#cb337-806" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-807"><a href="#cb337-807" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_id =</span> <span class="fu">c</span>(<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>),</span>
<span id="cb337-808"><a href="#cb337-808" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">34</span>, <span class="dv">45</span>, <span class="dv">29</span>, <span class="dv">56</span>),</span>
<span id="cb337-809"><a href="#cb337-809" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>)</span>
<span id="cb337-810"><a href="#cb337-810" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-811"><a href="#cb337-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-812"><a href="#cb337-812" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient lab results data</span></span>
<span id="cb337-813"><a href="#cb337-813" aria-hidden="true" tabindex="-1"></a>lab_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-814"><a href="#cb337-814" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_id =</span> <span class="fu">c</span>(<span class="dv">103</span>, <span class="dv">104</span>, <span class="dv">105</span>, <span class="dv">106</span>),</span>
<span id="cb337-815"><a href="#cb337-815" aria-hidden="true" tabindex="-1"></a>  <span class="at">test =</span> <span class="fu">c</span>(<span class="st">"CBC"</span>, <span class="st">"Lipid Panel"</span>, <span class="st">"Blood Glucose"</span>, <span class="st">"CBC"</span>),</span>
<span id="cb337-816"><a href="#cb337-816" aria-hidden="true" tabindex="-1"></a>  <span class="at">result =</span> <span class="fu">c</span>(<span class="st">"Normal"</span>, <span class="st">"High Cholesterol"</span>, <span class="st">"Elevated"</span>, <span class="st">"Normal"</span>)</span>
<span id="cb337-817"><a href="#cb337-817" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-818"><a href="#cb337-818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-819"><a href="#cb337-819" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the data frames</span></span>
<span id="cb337-820"><a href="#cb337-820" aria-hidden="true" tabindex="-1"></a>patients</span>
<span id="cb337-821"><a href="#cb337-821" aria-hidden="true" tabindex="-1"></a>lab_results</span>
<span id="cb337-822"><a href="#cb337-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-823"><a href="#cb337-823" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-824"><a href="#cb337-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-825"><a href="#cb337-825" aria-hidden="true" tabindex="-1"></a><span class="fu">## innter join</span></span>
<span id="cb337-826"><a href="#cb337-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-827"><a href="#cb337-827" aria-hidden="true" tabindex="-1"></a><span class="in">`inner_join()`</span>: returns only rows with matching patient IDs in both data frames.</span>
<span id="cb337-828"><a href="#cb337-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-831"><a href="#cb337-831" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-832"><a href="#cb337-832" aria-hidden="true" tabindex="-1"></a><span class="co"># Inner join on patient_id</span></span>
<span id="cb337-833"><a href="#cb337-833" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-834"><a href="#cb337-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-835"><a href="#cb337-835" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-836"><a href="#cb337-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-837"><a href="#cb337-837" aria-hidden="true" tabindex="-1"></a>In this example, only patients with patient_ids 103 and 104 are in both tables, so only their information appears in the result.</span>
<span id="cb337-838"><a href="#cb337-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-839"><a href="#cb337-839" aria-hidden="true" tabindex="-1"></a><span class="fu">## left join</span></span>
<span id="cb337-840"><a href="#cb337-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-841"><a href="#cb337-841" aria-hidden="true" tabindex="-1"></a><span class="in">`left_join()`</span> returns all rows from the patients data frame and matches rows from lab_results where possible. Unmatched rows in lab_results are filled with <span class="in">`NA`</span>.</span>
<span id="cb337-842"><a href="#cb337-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-845"><a href="#cb337-845" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-846"><a href="#cb337-846" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join on patient_id</span></span>
<span id="cb337-847"><a href="#cb337-847" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-848"><a href="#cb337-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-849"><a href="#cb337-849" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-850"><a href="#cb337-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-851"><a href="#cb337-851" aria-hidden="true" tabindex="-1"></a>Here, all patients from patients are included, with <span class="in">`NA`</span> for lab results where no match is found.</span>
<span id="cb337-852"><a href="#cb337-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-853"><a href="#cb337-853" aria-hidden="true" tabindex="-1"></a><span class="fu">## right join</span></span>
<span id="cb337-854"><a href="#cb337-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-855"><a href="#cb337-855" aria-hidden="true" tabindex="-1"></a><span class="in">`right_join()`</span> returns all rows from lab_results, matching rows from patients where possible. Unmatched rows in patients are filled with<span class="in">`NA`</span>.</span>
<span id="cb337-856"><a href="#cb337-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-859"><a href="#cb337-859" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-860"><a href="#cb337-860" aria-hidden="true" tabindex="-1"></a><span class="co"># Right join on patient_id</span></span>
<span id="cb337-861"><a href="#cb337-861" aria-hidden="true" tabindex="-1"></a><span class="fu">right_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-862"><a href="#cb337-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-863"><a href="#cb337-863" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-864"><a href="#cb337-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-865"><a href="#cb337-865" aria-hidden="true" tabindex="-1"></a>In this example, all patients with lab results are included, with demographic data from patients where available.</span>
<span id="cb337-866"><a href="#cb337-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-867"><a href="#cb337-867" aria-hidden="true" tabindex="-1"></a><span class="fu">## Full Join</span></span>
<span id="cb337-868"><a href="#cb337-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-869"><a href="#cb337-869" aria-hidden="true" tabindex="-1"></a><span class="in">`full_join()`</span> returns all rows from both tables, with <span class="in">`NA`</span> for missing matches in either table.</span>
<span id="cb337-870"><a href="#cb337-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-873"><a href="#cb337-873" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-874"><a href="#cb337-874" aria-hidden="true" tabindex="-1"></a><span class="co"># Full join on patient_id</span></span>
<span id="cb337-875"><a href="#cb337-875" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-876"><a href="#cb337-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-877"><a href="#cb337-877" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-878"><a href="#cb337-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-879"><a href="#cb337-879" aria-hidden="true" tabindex="-1"></a><span class="fu">## Semi Join</span></span>
<span id="cb337-880"><a href="#cb337-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-881"><a href="#cb337-881" aria-hidden="true" tabindex="-1"></a><span class="in">`semi_join()`</span> returns only the rows in patients that have a match in lab_results, without bringing in columns from lab_results.</span>
<span id="cb337-882"><a href="#cb337-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-885"><a href="#cb337-885" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-886"><a href="#cb337-886" aria-hidden="true" tabindex="-1"></a><span class="co"># Semi join on patient_id</span></span>
<span id="cb337-887"><a href="#cb337-887" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-888"><a href="#cb337-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-889"><a href="#cb337-889" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-890"><a href="#cb337-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-891"><a href="#cb337-891" aria-hidden="true" tabindex="-1"></a>Only patients with lab results are included here (patients 103 and 104).</span>
<span id="cb337-892"><a href="#cb337-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-893"><a href="#cb337-893" aria-hidden="true" tabindex="-1"></a><span class="fu">## Anti join</span></span>
<span id="cb337-894"><a href="#cb337-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-895"><a href="#cb337-895" aria-hidden="true" tabindex="-1"></a><span class="in">`anti_join()`</span> returns only the rows in patients that do not have a match in lab_results.</span>
<span id="cb337-896"><a href="#cb337-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-899"><a href="#cb337-899" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-900"><a href="#cb337-900" aria-hidden="true" tabindex="-1"></a><span class="co"># Anti join on patient_id</span></span>
<span id="cb337-901"><a href="#cb337-901" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(patients, lab_results, <span class="at">by =</span> <span class="st">"patient_id"</span>)</span>
<span id="cb337-902"><a href="#cb337-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-903"><a href="#cb337-903" aria-hidden="true" tabindex="-1"></a><span class="co">#example</span></span>
<span id="cb337-904"><a href="#cb337-904" aria-hidden="true" tabindex="-1"></a>tab_a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-905"><a href="#cb337-905" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">c</span>(<span class="dv">001</span>,<span class="dv">002</span>,<span class="dv">003</span>,<span class="dv">004</span>),</span>
<span id="cb337-906"><a href="#cb337-906" aria-hidden="true" tabindex="-1"></a>  <span class="at">age=</span><span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">50</span>,<span class="dv">30</span>,<span class="dv">40</span>)</span>
<span id="cb337-907"><a href="#cb337-907" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-908"><a href="#cb337-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-909"><a href="#cb337-909" aria-hidden="true" tabindex="-1"></a>tab_b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-910"><a href="#cb337-910" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">c</span>(<span class="dv">001</span>,<span class="dv">002</span>,<span class="dv">004</span>,<span class="dv">005</span>),</span>
<span id="cb337-911"><a href="#cb337-911" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex=</span><span class="fu">c</span>(<span class="st">"M"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"F"</span>)</span>
<span id="cb337-912"><a href="#cb337-912" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-913"><a href="#cb337-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-914"><a href="#cb337-914" aria-hidden="true" tabindex="-1"></a><span class="co">#inner join: </span></span>
<span id="cb337-915"><a href="#cb337-915" aria-hidden="true" tabindex="-1"></a>injointab <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">inner_join</span>(tab_a,tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-916"><a href="#cb337-916" aria-hidden="true" tabindex="-1"></a><span class="co">#full join:</span></span>
<span id="cb337-917"><a href="#cb337-917" aria-hidden="true" tabindex="-1"></a>fulljointab <span class="ot">&lt;-</span> <span class="fu">full_join</span>(tab_a,tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-918"><a href="#cb337-918" aria-hidden="true" tabindex="-1"></a><span class="co">#left join</span></span>
<span id="cb337-919"><a href="#cb337-919" aria-hidden="true" tabindex="-1"></a>leftjointab <span class="ot">&lt;-</span> <span class="fu">left_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-920"><a href="#cb337-920" aria-hidden="true" tabindex="-1"></a><span class="co">#right join</span></span>
<span id="cb337-921"><a href="#cb337-921" aria-hidden="true" tabindex="-1"></a>righjointab <span class="ot">&lt;-</span> <span class="fu">right_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-922"><a href="#cb337-922" aria-hidden="true" tabindex="-1"></a><span class="co">#anti_join</span></span>
<span id="cb337-923"><a href="#cb337-923" aria-hidden="true" tabindex="-1"></a>antijointab <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(<span class="at">x=</span>tab_a,<span class="at">y=</span>tab_b,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-924"><a href="#cb337-924" aria-hidden="true" tabindex="-1"></a>antijointab1 <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(<span class="at">x=</span>tab_b,<span class="at">y=</span>tab_a,<span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb337-925"><a href="#cb337-925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-926"><a href="#cb337-926" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-927"><a href="#cb337-927" aria-hidden="true" tabindex="-1"></a><span class="fu"># Reshaping data with tidyr</span></span>
<span id="cb337-930"><a href="#cb337-930" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-931"><a href="#cb337-931" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb337-932"><a href="#cb337-932" aria-hidden="true" tabindex="-1"></a>  <span class="at">visit=</span><span class="fu">c</span>(<span class="st">"wk0"</span>,<span class="st">"wk2"</span>,<span class="st">"wk4"</span>,<span class="st">"wk6"</span>,<span class="st">"wk12"</span>),</span>
<span id="cb337-933"><a href="#cb337-933" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_a=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>),</span>
<span id="cb337-934"><a href="#cb337-934" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_b=</span><span class="fu">c</span>(<span class="dv">50</span>,<span class="dv">40</span>,<span class="dv">30</span>,<span class="dv">20</span>,<span class="dv">10</span>),</span>
<span id="cb337-935"><a href="#cb337-935" aria-hidden="true" tabindex="-1"></a>  <span class="at">drug_c=</span><span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">25</span>,<span class="dv">35</span>,<span class="dv">45</span>,<span class="dv">55</span>))</span>
<span id="cb337-936"><a href="#cb337-936" aria-hidden="true" tabindex="-1"></a><span class="co">#tidyr::pivot_longer</span></span>
<span id="cb337-937"><a href="#cb337-937" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb337-938"><a href="#cb337-938" aria-hidden="true" tabindex="-1"></a>test1 <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(<span class="at">data=</span>test,</span>
<span id="cb337-939"><a href="#cb337-939" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cols=</span><span class="fu">c</span>(drug_a,drug_b,drug_c),</span>
<span id="cb337-940"><a href="#cb337-940" aria-hidden="true" tabindex="-1"></a>                      <span class="at">names_to=</span><span class="st">"drug"</span>,</span>
<span id="cb337-941"><a href="#cb337-941" aria-hidden="true" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">"dose"</span>)</span>
<span id="cb337-942"><a href="#cb337-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-943"><a href="#cb337-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-944"><a href="#cb337-944" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(<span class="at">data=</span>test1,</span>
<span id="cb337-945"><a href="#cb337-945" aria-hidden="true" tabindex="-1"></a>                     <span class="at">id_cols =</span>visit,</span>
<span id="cb337-946"><a href="#cb337-946" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_prefix =</span> <span class="st">"d_"</span>, <span class="co"># it is optional</span></span>
<span id="cb337-947"><a href="#cb337-947" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_from =</span> dose,</span>
<span id="cb337-948"><a href="#cb337-948" aria-hidden="true" tabindex="-1"></a>                     <span class="at">names_from =</span> drug)</span>
<span id="cb337-949"><a href="#cb337-949" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-950"><a href="#cb337-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-951"><a href="#cb337-951" aria-hidden="true" tabindex="-1"></a><span class="fu"># counting with `n()`</span></span>
<span id="cb337-952"><a href="#cb337-952" aria-hidden="true" tabindex="-1"></a>When working with data, we often want to know the number of observations found for each factor or combination of factors. For this task, dplyr provides count(). For example, if we wanted to count the number of rows of data for each sex, we would do:</span>
<span id="cb337-955"><a href="#cb337-955" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-956"><a href="#cb337-956" aria-hidden="true" tabindex="-1"></a>cnt <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-957"><a href="#cb337-957" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(SEX)</span>
<span id="cb337-958"><a href="#cb337-958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-959"><a href="#cb337-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-960"><a href="#cb337-960" aria-hidden="true" tabindex="-1"></a><span class="co"># race count by treatment</span></span>
<span id="cb337-961"><a href="#cb337-961" aria-hidden="true" tabindex="-1"></a>cnt2 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-962"><a href="#cb337-962" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01P, RACE)</span>
<span id="cb337-963"><a href="#cb337-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-964"><a href="#cb337-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-965"><a href="#cb337-965" aria-hidden="true" tabindex="-1"></a><span class="co">#treatment count</span></span>
<span id="cb337-966"><a href="#cb337-966" aria-hidden="true" tabindex="-1"></a>cnt3 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-967"><a href="#cb337-967" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(TRT01P)) <span class="sc">|&gt;</span></span>
<span id="cb337-968"><a href="#cb337-968" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01P)</span>
<span id="cb337-969"><a href="#cb337-969" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-970"><a href="#cb337-970" aria-hidden="true" tabindex="-1"></a>adae <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adae.sas7bdat"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb337-971"><a href="#cb337-971" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">where</span>(is.character),<span class="sc">~</span> dplyr<span class="sc">::</span><span class="fu">na_if</span>(.,<span class="st">""</span>)))</span>
<span id="cb337-972"><a href="#cb337-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-973"><a href="#cb337-973" aria-hidden="true" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/adam/adsl.sas7bdat"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb337-974"><a href="#cb337-974" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">where</span>(is.character),<span class="sc">~</span> dplyr<span class="sc">::</span><span class="fu">na_if</span>(.,<span class="st">""</span>)))</span>
<span id="cb337-975"><a href="#cb337-975" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-976"><a href="#cb337-976" aria-hidden="true" tabindex="-1"></a>bign <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span></span>
<span id="cb337-977"><a href="#cb337-977" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(SAFFL <span class="sc">==</span> <span class="st">"Y"</span>) <span class="sc">|&gt;</span></span>
<span id="cb337-978"><a href="#cb337-978" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(TRT01AN, TRT01A) <span class="sc">|&gt;</span></span>
<span id="cb337-979"><a href="#cb337-979" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">TRTA =</span> TRT01A, <span class="at">TRTAN =</span> TRT01AN, <span class="at">bign =</span> n)</span>
<span id="cb337-980"><a href="#cb337-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-981"><a href="#cb337-981" aria-hidden="true" tabindex="-1"></a>bign1 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">count</span>(adsl, TRT01AN, TRT01A) <span class="sc">|&gt;</span></span>
<span id="cb337-982"><a href="#cb337-982" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">TRTA =</span> TRT01A, <span class="at">TRTAN =</span> TRT01AN, <span class="at">bign =</span> n)</span>
<span id="cb337-983"><a href="#cb337-983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-984"><a href="#cb337-984" aria-hidden="true" tabindex="-1"></a>adae1 <span class="ot">&lt;-</span> adae <span class="sc">|&gt;</span> </span>
<span id="cb337-985"><a href="#cb337-985" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">distinct</span>(USUBJID,AEBODSYS,AEDECOD,TRTA,TRTAN,SAFFL)</span>
<span id="cb337-986"><a href="#cb337-986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-987"><a href="#cb337-987" aria-hidden="true" tabindex="-1"></a>ae_t <span class="ot">&lt;-</span> adae1 <span class="sc">|&gt;</span></span>
<span id="cb337-988"><a href="#cb337-988" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(SAFFL <span class="sc">==</span> <span class="st">"Y"</span>) <span class="sc">|&gt;</span></span>
<span id="cb337-989"><a href="#cb337-989" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(TRTA) <span class="sc">|&gt;</span></span>
<span id="cb337-990"><a href="#cb337-990" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(AEBODSYS, AEDECOD)</span>
<span id="cb337-991"><a href="#cb337-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-992"><a href="#cb337-992" aria-hidden="true" tabindex="-1"></a>ae_t1 <span class="ot">&lt;-</span> ae_t <span class="sc">|&gt;</span></span>
<span id="cb337-993"><a href="#cb337-993" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(bign, <span class="at">by =</span> <span class="st">"TRTA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb337-994"><a href="#cb337-994" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb337-995"><a href="#cb337-995" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct =</span> <span class="fu">paste0</span>(<span class="st">"("</span>, <span class="fu">round</span>(n <span class="sc">/</span> bign <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">")"</span>),</span>
<span id="cb337-996"><a href="#cb337-996" aria-hidden="true" tabindex="-1"></a>    <span class="at">val =</span> <span class="fu">paste0</span>(n,<span class="st">" "</span>,pct)</span>
<span id="cb337-997"><a href="#cb337-997" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb337-998"><a href="#cb337-998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-999"><a href="#cb337-999" aria-hidden="true" tabindex="-1"></a>ae2 <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb337-1000"><a href="#cb337-1000" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> ae_t1,</span>
<span id="cb337-1001"><a href="#cb337-1001" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(AEBODSYS, AEDECOD),</span>
<span id="cb337-1002"><a href="#cb337-1002" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> TRTA,</span>
<span id="cb337-1003"><a href="#cb337-1003" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> val,</span>
<span id="cb337-1004"><a href="#cb337-1004" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_fill =</span> <span class="st">"0 (0.0)"</span></span>
<span id="cb337-1005"><a href="#cb337-1005" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb337-1006"><a href="#cb337-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1007"><a href="#cb337-1007" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-1008"><a href="#cb337-1008" aria-hidden="true" tabindex="-1"></a><span class="fu"># dplyr distinct()</span></span>
<span id="cb337-1009"><a href="#cb337-1009" aria-hidden="true" tabindex="-1"></a>The distinct() function in dplyr is used to return unique/distinct rows from a data</span>
<span id="cb337-1010"><a href="#cb337-1010" aria-hidden="true" tabindex="-1"></a>frame or tibble. It removes duplicate rows based on the values in specified columns or all columns if none are specified.</span>
<span id="cb337-1013"><a href="#cb337-1013" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-1014"><a href="#cb337-1014" aria-hidden="true" tabindex="-1"></a><span class="co"># distinct</span></span>
<span id="cb337-1015"><a href="#cb337-1015" aria-hidden="true" tabindex="-1"></a>distinct_trt <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-1016"><a href="#cb337-1016" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(TRT01P,TRT01PN)</span>
<span id="cb337-1017"><a href="#cb337-1017" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(distinct_trt)</span>
<span id="cb337-1018"><a href="#cb337-1018" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-1019"><a href="#cb337-1019" aria-hidden="true" tabindex="-1"></a><span class="fu"># case_when()</span></span>
<span id="cb337-1020"><a href="#cb337-1020" aria-hidden="true" tabindex="-1"></a>The case_when() function in dplyr is a powerful tool for creating new variables based on</span>
<span id="cb337-1021"><a href="#cb337-1021" aria-hidden="true" tabindex="-1"></a>multiple conditions. It allows you to specify a series of conditions and corresponding values to assign when those conditions are met.</span>
<span id="cb337-1024"><a href="#cb337-1024" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-1025"><a href="#cb337-1025" aria-hidden="true" tabindex="-1"></a>adsl1 <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb337-1026"><a href="#cb337-1026" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb337-1027"><a href="#cb337-1027" aria-hidden="true" tabindex="-1"></a>    <span class="at">agegrp1 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb337-1028"><a href="#cb337-1028" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Child"</span>,</span>
<span id="cb337-1029"><a href="#cb337-1029" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> AGE <span class="sc">&lt;</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"Adult"</span>,</span>
<span id="cb337-1030"><a href="#cb337-1030" aria-hidden="true" tabindex="-1"></a>      AGE <span class="sc">&gt;=</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"Senior"</span>,</span>
<span id="cb337-1031"><a href="#cb337-1031" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Unknown"</span>  <span class="co"># Default case</span></span>
<span id="cb337-1032"><a href="#cb337-1032" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb337-1033"><a href="#cb337-1033" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb337-1034"><a href="#cb337-1034" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(USUBJID, AGE, agegrp1) <span class="sc">|&gt;</span> </span>
<span id="cb337-1035"><a href="#cb337-1035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb337-1036"><a href="#cb337-1036" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-1037"><a href="#cb337-1037" aria-hidden="true" tabindex="-1"></a><span class="fu"># create seq no.</span></span>
<span id="cb337-1040"><a href="#cb337-1040" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-1041"><a href="#cb337-1041" aria-hidden="true" tabindex="-1"></a>class <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sas</span>(<span class="st">"data/class.sas7bdat"</span>)</span>
<span id="cb337-1042"><a href="#cb337-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1043"><a href="#cb337-1043" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1044"><a href="#cb337-1044" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(class, Age)</span>
<span id="cb337-1045"><a href="#cb337-1045" aria-hidden="true" tabindex="-1"></a><span class="co"># Create t1 data set with first and last records for each unique value of 'age'</span></span>
<span id="cb337-1046"><a href="#cb337-1046" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1047"><a href="#cb337-1047" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1048"><a href="#cb337-1048" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1049"><a href="#cb337-1049" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1050"><a href="#cb337-1050" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">seq =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>()) </span>
<span id="cb337-1051"><a href="#cb337-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1052"><a href="#cb337-1052" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1053"><a href="#cb337-1053" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">seq =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(), <span class="at">.by =</span> Age) <span class="sc">|&gt;</span> </span>
<span id="cb337-1054"><a href="#cb337-1054" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age)</span>
<span id="cb337-1055"><a href="#cb337-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1056"><a href="#cb337-1056" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1057"><a href="#cb337-1057" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1058"><a href="#cb337-1058" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1059"><a href="#cb337-1059" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span> )</span>
<span id="cb337-1060"><a href="#cb337-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1061"><a href="#cb337-1061" aria-hidden="true" tabindex="-1"></a>t4 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1062"><a href="#cb337-1062" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1063"><a href="#cb337-1063" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span></span>
<span id="cb337-1064"><a href="#cb337-1064" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span>
<span id="cb337-1065"><a href="#cb337-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1066"><a href="#cb337-1066" aria-hidden="true" tabindex="-1"></a>t5 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1067"><a href="#cb337-1067" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span> </span>
<span id="cb337-1068"><a href="#cb337-1068" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span>
<span id="cb337-1069"><a href="#cb337-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1070"><a href="#cb337-1070" aria-hidden="true" tabindex="-1"></a>t6 <span class="ot">&lt;-</span> class <span class="sc">|&gt;</span> </span>
<span id="cb337-1071"><a href="#cb337-1071" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Age) <span class="sc">|&gt;</span> </span>
<span id="cb337-1072"><a href="#cb337-1072" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span><span class="sc">|</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="fu">n</span>())</span>
<span id="cb337-1073"><a href="#cb337-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1074"><a href="#cb337-1074" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-1075"><a href="#cb337-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1076"><a href="#cb337-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1077"><a href="#cb337-1077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1078"><a href="#cb337-1078" aria-hidden="true" tabindex="-1"></a><span class="fu"># Lists: `lapply`, purrr</span></span>
<span id="cb337-1081"><a href="#cb337-1081" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb337-1082"><a href="#cb337-1082" aria-hidden="true" tabindex="-1"></a>lst <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b=</span><span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb337-1083"><a href="#cb337-1083" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(lst, mean)</span>
<span id="cb337-1084"><a href="#cb337-1084" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb337-1085"><a href="#cb337-1085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-1086"><a href="#cb337-1086" aria-hidden="true" tabindex="-1"></a><span class="fu"># Exercises</span></span>
<span id="cb337-1087"><a href="#cb337-1087" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Using <span class="in">`across()`</span>, standardize (<span class="in">`(x-mean)/sd`</span>) numeric columns.</span>
<span id="cb337-1088"><a href="#cb337-1088" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Create a row-wise mean of <span class="in">`age`</span> and <span class="in">`wt`</span>.</span>
<span id="cb337-1089"><a href="#cb337-1089" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Split <span class="in">`df`</span> by <span class="in">`grp`</span> and compute group means with <span class="in">`lapply`</span> or <span class="in">`purrr::map`</span>.</span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>