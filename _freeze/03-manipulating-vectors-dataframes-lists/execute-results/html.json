{
  "hash": "40f180e3094c03edf0a7ad3db488b919",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Manipulating Vectors, Data Frames, and Lists\"\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyr)\n```\n:::\n\n\n# Vectors: Indexing & Vectorized Ops\n\n::: {.cell}\n\n```{.r .cell-code}\nv <- 1:10\nv[v %% 2 == 0]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  2  4  6  8 10\n```\n\n\n:::\n\n```{.r .cell-code}\nv * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  2  4  6  8 10 12 14 16 18 20\n```\n\n\n:::\n:::\n\n\n# Data Frames with dplyr\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- tibble::tibble(\n  id = 1:6,\n  grp = c(\"A\",\"A\",\"B\",\"B\",\"C\",\"C\"),\n  age = c(35,44,53,51,29,40),\n  wt  = c(70, 85, 92, 88, 60, 75)\n)\n\ndf |> \n  dplyr::group_by(grp) |>\n  dplyr::summarise(\n    n = dplyr::n(),\n    mean_age = mean(age),\n    sd_wt = sd(wt)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  grp       n mean_age sd_wt\n  <chr> <int>    <dbl> <dbl>\n1 A         2     39.5 10.6 \n2 B         2     52    2.83\n3 C         2     34.5 10.6 \n```\n\n\n:::\n:::\n\n\n## `mutate()` + `across()`\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |>\n  mutate(\n    bmi = wt / (1.70^2),\n    across(c(age, wt), ~ .x - mean(.x), .names = \"{.col}_centered\")\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 7\n     id grp     age    wt   bmi age_centered wt_centered\n  <int> <chr> <dbl> <dbl> <dbl>        <dbl>       <dbl>\n1     1 A        35    70  24.2           -7       -8.33\n2     2 A        44    85  29.4            2        6.67\n3     3 B        53    92  31.8           11       13.7 \n4     4 B        51    88  30.4            9        9.67\n5     5 C        29    60  20.8          -13      -18.3 \n6     6 C        40    75  26.0           -2       -3.33\n```\n\n\n:::\n:::\n\n\n## Row-wise with `c_across()`\n\n::: {.cell}\n\n```{.r .cell-code}\nrow_sums <- df |>\n  rowwise() |>\n  mutate(sum_age_wt = sum(c_across(c(age, wt)))) |>\n  ungroup()\nrow_sums\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n     id grp     age    wt sum_age_wt\n  <int> <chr> <dbl> <dbl>      <dbl>\n1     1 A        35    70        105\n2     2 A        44    85        129\n3     3 B        53    92        145\n4     4 B        51    88        139\n5     5 C        29    60         89\n6     6 C        40    75        115\n```\n\n\n:::\n:::\n\n\n# Lists: `lapply`, purrr\n\n::: {.cell}\n\n```{.r .cell-code}\nlst <- list(a=1:3, b=10:12)\nlapply(lst, mean)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$a\n[1] 2\n\n$b\n[1] 11\n```\n\n\n:::\n:::\n\n\n# Exercises\n1. Using `across()`, standardize (`(x-mean)/sd`) numeric columns.\n2. Create a row-wise mean of `age` and `wt`.\n3. Split `df` by `grp` and compute group means with `lapply` or `purrr::map`.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}